<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>SpringBootì—ì„œ Swagger ë„ì…ë¶€í„° íŠ¸ëŸ¬ë¸”ìŠˆíŒ…ì— ë°°í¬ê¹Œì§€...(?) | EK Dev Blog</title>
<meta name=keywords content><meta name=description content="ì„œë¡  APIëª…ì„¸ì„œëŠ” í”„ë¡ íŠ¸ì—”ë“œì™€ ë°±ì—”ë“œê°„ì˜ í˜‘ì—…ì„ ìœ„í•´ì„œ ê°€ì¥ í•„ìš”í•œ ë„êµ¬ì…ë‹ˆë‹¤. ë°±ì—”ë“œ ê°œë°œìëŠ” APIë¥¼ ì„¤ê³„í•˜ê³  ê³µìœ í• ë•Œ APIëª…ì„¸ì„œë¥¼ ë§Œë“­ë‹ˆë‹¤. API ëª…ì„¸ì„œë¥¼ ë‹¤ë£¨ëŠ” ëŒ€í‘œì ì¸ íˆ´ë¡œëŠ” Swaggerê°€ ìˆìŠµë‹ˆë‹¤. ì´ë²ˆì—ëŠ” Swagger ì„ ë„ì…í•˜ëŠ” ê³¼ì •ê³¼ ì¤‘ê°„ì— ê²ªì€ íŠ¸ëŸ¬ë¸”ìŠˆíŒ… í•´ê²°ê³¼ì • ê·¸ë¦¬ê³  ë”ë‚˜ì•„ê°€ì„œ ì§ì ‘ github-actionìœ¼ë¡œ ë°°í¬í•˜ëŠ” ê³¼ì •ì„ ê³µìœ í•´ë³´ë„ë¡í•˜ê² ìŠµë‹ˆë‹¤.
ìŠ¤í”„ë§ë¶€íŠ¸ì— ìŠ¤ì›¨ê±° ë„ì…í•˜ê¸° Java: 17 SpringBoot: 3.4.4 build.gradle ì— ì¶”ê°€í•˜ê¸° 1 2 3 4 5 6 7 dependencies { // Swagger UI implementation 'org.springdoc:springdoc-openapi-starter-webmvc-ui:2.0.2' ...ìƒëµ... } application.yaml ì— ì¶”ê°€í•˜ê¸° 1 2 3 4 5 6 7 8 9 10 11 spring: application: name: hhplus-concert ."><meta name=author content><link rel=canonical href=https://loveAlakazam.github.io/blog/docs/swagger-api/><link crossorigin=anonymous href=/blog/assets/css/stylesheet.f49d66caae9ea0fd43f21f29e71a8d3e284517ed770f2aa86fa012953ad3c9ef.css integrity="sha256-9J1myq6eoP1D8h8p5xqNPihFF+13Dyqob6ASlTrTye8=" rel="preload stylesheet" as=style><link rel=icon href=https://loveAlakazam.github.io/blog/%3Clink%20/%20abs%20url%3E><link rel=icon type=image/png sizes=16x16 href=https://loveAlakazam.github.io/blog/%3Clink%20/%20abs%20url%3E><link rel=icon type=image/png sizes=32x32 href=https://loveAlakazam.github.io/blog/%3Clink%20/%20abs%20url%3E><link rel=apple-touch-icon href=https://loveAlakazam.github.io/blog/%3Clink%20/%20abs%20url%3E><link rel=mask-icon href=https://loveAlakazam.github.io/blog/%3Clink%20/%20abs%20url%3E><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://loveAlakazam.github.io/blog/docs/swagger-api/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:url" content="https://loveAlakazam.github.io/blog/docs/swagger-api/"><meta property="og:site_name" content="EK Dev Blog"><meta property="og:title" content="SpringBootì—ì„œ Swagger ë„ì…ë¶€í„° íŠ¸ëŸ¬ë¸”ìŠˆíŒ…ì— ë°°í¬ê¹Œì§€...(?)"><meta property="og:description" content="ì„œë¡  APIëª…ì„¸ì„œëŠ” í”„ë¡ íŠ¸ì—”ë“œì™€ ë°±ì—”ë“œê°„ì˜ í˜‘ì—…ì„ ìœ„í•´ì„œ ê°€ì¥ í•„ìš”í•œ ë„êµ¬ì…ë‹ˆë‹¤. ë°±ì—”ë“œ ê°œë°œìëŠ” APIë¥¼ ì„¤ê³„í•˜ê³  ê³µìœ í• ë•Œ APIëª…ì„¸ì„œë¥¼ ë§Œë“­ë‹ˆë‹¤. API ëª…ì„¸ì„œë¥¼ ë‹¤ë£¨ëŠ” ëŒ€í‘œì ì¸ íˆ´ë¡œëŠ” Swaggerê°€ ìˆìŠµë‹ˆë‹¤. ì´ë²ˆì—ëŠ” Swagger ì„ ë„ì…í•˜ëŠ” ê³¼ì •ê³¼ ì¤‘ê°„ì— ê²ªì€ íŠ¸ëŸ¬ë¸”ìŠˆíŒ… í•´ê²°ê³¼ì • ê·¸ë¦¬ê³  ë”ë‚˜ì•„ê°€ì„œ ì§ì ‘ github-actionìœ¼ë¡œ ë°°í¬í•˜ëŠ” ê³¼ì •ì„ ê³µìœ í•´ë³´ë„ë¡í•˜ê² ìŠµë‹ˆë‹¤.
ìŠ¤í”„ë§ë¶€íŠ¸ì— ìŠ¤ì›¨ê±° ë„ì…í•˜ê¸° Java: 17 SpringBoot: 3.4.4 build.gradle ì— ì¶”ê°€í•˜ê¸° 1 2 3 4 5 6 7 dependencies { // Swagger UI implementation 'org.springdoc:springdoc-openapi-starter-webmvc-ui:2.0.2' ...ìƒëµ... } application.yaml ì— ì¶”ê°€í•˜ê¸° 1 2 3 4 5 6 7 8 9 10 11 spring: application: name: hhplus-concert ."><meta property="og:locale" content="en-us"><meta property="og:type" content="article"><meta property="article:section" content="docs"><meta property="article:published_time" content="2025-04-04T00:00:00+00:00"><meta property="article:modified_time" content="2025-04-04T00:00:00+00:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="SpringBootì—ì„œ Swagger ë„ì…ë¶€í„° íŠ¸ëŸ¬ë¸”ìŠˆíŒ…ì— ë°°í¬ê¹Œì§€...(?)"><meta name=twitter:description content="ì„œë¡  APIëª…ì„¸ì„œëŠ” í”„ë¡ íŠ¸ì—”ë“œì™€ ë°±ì—”ë“œê°„ì˜ í˜‘ì—…ì„ ìœ„í•´ì„œ ê°€ì¥ í•„ìš”í•œ ë„êµ¬ì…ë‹ˆë‹¤. ë°±ì—”ë“œ ê°œë°œìëŠ” APIë¥¼ ì„¤ê³„í•˜ê³  ê³µìœ í• ë•Œ APIëª…ì„¸ì„œë¥¼ ë§Œë“­ë‹ˆë‹¤. API ëª…ì„¸ì„œë¥¼ ë‹¤ë£¨ëŠ” ëŒ€í‘œì ì¸ íˆ´ë¡œëŠ” Swaggerê°€ ìˆìŠµë‹ˆë‹¤. ì´ë²ˆì—ëŠ” Swagger ì„ ë„ì…í•˜ëŠ” ê³¼ì •ê³¼ ì¤‘ê°„ì— ê²ªì€ íŠ¸ëŸ¬ë¸”ìŠˆíŒ… í•´ê²°ê³¼ì • ê·¸ë¦¬ê³  ë”ë‚˜ì•„ê°€ì„œ ì§ì ‘ github-actionìœ¼ë¡œ ë°°í¬í•˜ëŠ” ê³¼ì •ì„ ê³µìœ í•´ë³´ë„ë¡í•˜ê² ìŠµë‹ˆë‹¤.
ìŠ¤í”„ë§ë¶€íŠ¸ì— ìŠ¤ì›¨ê±° ë„ì…í•˜ê¸° Java: 17 SpringBoot: 3.4.4 build.gradle ì— ì¶”ê°€í•˜ê¸° 1 2 3 4 5 6 7 dependencies { // Swagger UI implementation 'org.springdoc:springdoc-openapi-starter-webmvc-ui:2.0.2' ...ìƒëµ... } application.yaml ì— ì¶”ê°€í•˜ê¸° 1 2 3 4 5 6 7 8 9 10 11 spring: application: name: hhplus-concert ."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Docs","item":"https://loveAlakazam.github.io/blog/docs/"},{"@type":"ListItem","position":2,"name":"SpringBootì—ì„œ Swagger ë„ì…ë¶€í„° íŠ¸ëŸ¬ë¸”ìŠˆíŒ…ì— ë°°í¬ê¹Œì§€...(?)","item":"https://loveAlakazam.github.io/blog/docs/swagger-api/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"SpringBootì—ì„œ Swagger ë„ì…ë¶€í„° íŠ¸ëŸ¬ë¸”ìŠˆíŒ…ì— ë°°í¬ê¹Œì§€...(?)","name":"SpringBootì—ì„œ Swagger ë„ì…ë¶€í„° íŠ¸ëŸ¬ë¸”ìŠˆíŒ…ì— ë°°í¬ê¹Œì§€...(?)","description":"ì„œë¡  APIëª…ì„¸ì„œëŠ” í”„ë¡ íŠ¸ì—”ë“œì™€ ë°±ì—”ë“œê°„ì˜ í˜‘ì—…ì„ ìœ„í•´ì„œ ê°€ì¥ í•„ìš”í•œ ë„êµ¬ì…ë‹ˆë‹¤. ë°±ì—”ë“œ ê°œë°œìëŠ” APIë¥¼ ì„¤ê³„í•˜ê³  ê³µìœ í• ë•Œ APIëª…ì„¸ì„œë¥¼ ë§Œë“­ë‹ˆë‹¤. API ëª…ì„¸ì„œë¥¼ ë‹¤ë£¨ëŠ” ëŒ€í‘œì ì¸ íˆ´ë¡œëŠ” Swaggerê°€ ìˆìŠµë‹ˆë‹¤. ì´ë²ˆì—ëŠ” Swagger ì„ ë„ì…í•˜ëŠ” ê³¼ì •ê³¼ ì¤‘ê°„ì— ê²ªì€ íŠ¸ëŸ¬ë¸”ìŠˆíŒ… í•´ê²°ê³¼ì • ê·¸ë¦¬ê³  ë”ë‚˜ì•„ê°€ì„œ ì§ì ‘ github-actionìœ¼ë¡œ ë°°í¬í•˜ëŠ” ê³¼ì •ì„ ê³µìœ í•´ë³´ë„ë¡í•˜ê² ìŠµë‹ˆë‹¤.\nìŠ¤í”„ë§ë¶€íŠ¸ì— ìŠ¤ì›¨ê±° ë„ì…í•˜ê¸° Java: 17 SpringBoot: 3.4.4 build.gradle ì— ì¶”ê°€í•˜ê¸° 1 2 3 4 5 6 7 dependencies { // Swagger UI implementation \u0026#39;org.springdoc:springdoc-openapi-starter-webmvc-ui:2.0.2\u0026#39; ...ìƒëµ... } application.yaml ì— ì¶”ê°€í•˜ê¸° 1 2 3 4 5 6 7 8 9 10 11 spring: application: name: hhplus-concert .","keywords":[],"articleBody":"ì„œë¡  APIëª…ì„¸ì„œëŠ” í”„ë¡ íŠ¸ì—”ë“œì™€ ë°±ì—”ë“œê°„ì˜ í˜‘ì—…ì„ ìœ„í•´ì„œ ê°€ì¥ í•„ìš”í•œ ë„êµ¬ì…ë‹ˆë‹¤. ë°±ì—”ë“œ ê°œë°œìëŠ” APIë¥¼ ì„¤ê³„í•˜ê³  ê³µìœ í• ë•Œ APIëª…ì„¸ì„œë¥¼ ë§Œë“­ë‹ˆë‹¤. API ëª…ì„¸ì„œë¥¼ ë‹¤ë£¨ëŠ” ëŒ€í‘œì ì¸ íˆ´ë¡œëŠ” Swaggerê°€ ìˆìŠµë‹ˆë‹¤. ì´ë²ˆì—ëŠ” Swagger ì„ ë„ì…í•˜ëŠ” ê³¼ì •ê³¼ ì¤‘ê°„ì— ê²ªì€ íŠ¸ëŸ¬ë¸”ìŠˆíŒ… í•´ê²°ê³¼ì • ê·¸ë¦¬ê³  ë”ë‚˜ì•„ê°€ì„œ ì§ì ‘ github-actionìœ¼ë¡œ ë°°í¬í•˜ëŠ” ê³¼ì •ì„ ê³µìœ í•´ë³´ë„ë¡í•˜ê² ìŠµë‹ˆë‹¤.\nìŠ¤í”„ë§ë¶€íŠ¸ì— ìŠ¤ì›¨ê±° ë„ì…í•˜ê¸° Java: 17 SpringBoot: 3.4.4 build.gradle ì— ì¶”ê°€í•˜ê¸° 1 2 3 4 5 6 7 dependencies { // Swagger UI implementation 'org.springdoc:springdoc-openapi-starter-webmvc-ui:2.0.2' ...ìƒëµ... } application.yaml ì— ì¶”ê°€í•˜ê¸° 1 2 3 4 5 6 7 8 9 10 11 spring: application: name: hhplus-concert ...(ìƒëµ) springdoc: api-docs: path: /v3/api-docs swagger-ui: path: /swagger-ui.html operationSorter: method ë„ì…ì¤‘ ë¬¸ì œ ë°œìƒ ë¡œì»¬í˜¸ìŠ¤íŠ¸ì—ì„œ ì‹¤í–‰í›„, ë¸Œë¼ìš°ì €ì˜ URLì— localhost:8080/swagger-ui/index.html ì— ì ‘ì†í–ˆë”ë‹ˆ ì•„ë˜ì´ë¯¸ì§€ì™€ ê°™ì€ ì—ëŸ¬ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.\nì´ ì—ëŸ¬ì— ëŒ€í•œ ë¬¸ì œì  ì›ì¸ì€ GlobalHandlerException í•¸ë“¤ëŸ¬ì˜ @RestControllerAdvice ë°ì½”ë ˆì´í„°ë¥¼ ë¶™ì˜€ê¸° ë•Œë¬¸ì— ë°œìƒí–ˆìŠµë‹ˆë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 // GlobalExceptionHandler.java @RestControllerAdvice public class GlobalExceptionHandler { // ìœ íš¨ì„±ê²€ì‚¬ ì‹¤íŒ¨ë¡œ ë°œìƒí•œ ì˜ˆì™¸ì²˜ë¦¬: 400 ì—ëŸ¬ë°˜í™˜ @ExceptionHandler(InvalidValidationException.class) @ResponseStatus(HttpStatus.BAD_REQUEST) public ErrorResponse handleInvalidValidationException(InvalidValidationException e) { return ErrorResponse.of(HttpStatus.BAD_REQUEST.value(), e.getMessage()); } // ì„œë²„ë‚´ë¶€ ì˜¤ë¥˜ë¡œ ë°œìƒí•œ ì˜ˆì™¸ì²˜ë¦¬: 500 ì—ëŸ¬ë°˜í™˜ @ExceptionHandler(Exception.class) @ResponseStatus(HttpStatus.INTERNAL_SERVER_ERROR) public ErrorResponse handleException(Exception e) { return ErrorResponse.of(HttpStatus.INTERNAL_SERVER_ERROR.value(), e.getMessage()); } } ì‹¤í–‰ë¡œê·¸ì—ì„œ ë°œìƒí•œ ì˜¤ë¥˜ë¬¸êµ¬ëŠ” ì•„ë˜ì™€ ê°™ì´ ê¸°ì¬ë˜ì–´ìˆìŠµë‹ˆë‹¤. ì´ ì—ëŸ¬ì— ëŒ€í•œ í•´ì„ì„ í•´ë³´ìë©´, â€œí˜„ì¬ ì‹¤í–‰ì¤‘ì¸ ì½”ë“œê°€ ControllerAdviceBean(Object) ë¼ëŠ” ìƒì„±ì ë©”ì„œë“œê°€ ìˆëŠ”ì¤„ ì•Œì•˜ëŠ”ë° ì‹¤ì œë¡œëŠ” ê·¸ ë©”ì„œë“œê°€ ì—†ëŠ” Spring ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì°¸ì¡°í•˜ê³  ìˆì–´ì„œ ë°œìƒí•˜ëŠ” ì˜¤ë¥˜ì´ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.\njava.lang.NoSuchMethodError: â€˜void org.springframework.web.method.ControllerAdviceBean.(java.lang.Object)â€™\nSwagger UIëŠ” ë‚´ë¶€ì ìœ¼ë¡œ [GET] /v3/api-docs URLì„ í˜¸ì¶œí•˜ëŠ”ë° ì´ ìš”ì²­ì„ ì²˜ë¦¬í•˜ëŠ” ê³¼ì •ì—ì„œ @ControllerAdviceë¥¼ ìŠ¤ìº”í•˜ê±°ë‚˜ ì´ˆê¸°í™”í• ë•Œ ì˜¤ë¥˜ê°€ ë°œìƒí•˜ì—¬ ì„œë²„ ìì²´ì—ì„œ 500ì—ëŸ¬ë¥¼ ë¦¬í„´í•˜ì—¬ ìŠ¤ì›¨ê±°ë¬¸ì„œ ë¡œë”©ì— ì‹¤íŒ¨ë©ë‹ˆë‹¤.\nGlobalExceptionHandlerì— ë¶€ì—¬ëœ @RestControllerAdvice ë°ì½”ë ˆì´í„°ë¥¼ ì œê±°í•¨ìœ¼ë¡œì¨ ì´ ë¬¸ì œë¥¼ í•´ê²°í–ˆìŠµë‹ˆë‹¤.\nì°¸ê³ : [íŠ¸ëŸ¬ë¸”ìŠˆíŒ…] Swagger 500ì—ëŸ¬: Failed to load API definition ë¡œì»¬í˜¸ìŠ¤íŠ¸ì— ìˆëŠ” swagger APIëª…ì„¸ë¥¼ swaggerHubì— ì˜®ê¸¸ ìˆ˜ ì—†ì„ê¹Œ? 1. ë¡œì»¬í˜¸ìŠ¤íŠ¸ì˜ swagger(localhost:8080/swagger-ui/index.html)ì— ì ‘ì†í•˜ê¸° 2. /v3/api-docsì— ì ‘ì†í•´ì„œ jsonì½”ë“œë¥¼ ì–»ê¸° ìœ„ì˜ ì´ë¯¸ì§€ì²˜ëŸ¼ ì‘ì€ ê¸€ì”¨ë¡œ /v3/api-docs ë§í¬ì— ë“¤ì–´ê°€ê²Œë˜ë©´ ë¡œì»¬ì— ë„ìš´ swaggerUIì— ëŒ€í•œ JSON íŒŒì¼ì„ ì–»ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì°¸ê³ ë¡œ pretty í¬ë§·íŒ…ë³´ë‹¤ëŠ” raw í¬ë§·íŒ…ìœ¼ë¡œ jsoníŒŒì¼ì„ ë³µì‚¬í•˜ê¸°ë¥¼ ê¶Œì¥í•©ë‹ˆë‹¤.\n3. ì½”ë“œ í¬ë§· ë³€ê²½ ì‚¬ì´íŠ¸ì— ë“¤ì–´ê°€ì„œ json ë³µë¶™í•˜ì—¬ yaml ë¡œ ì½”ë“œë¥¼ ë³€í™˜í•˜ê¸° ì½”ë“œ í¬ë§· ë³€ê²½ ì‚¬ì´íŠ¸: BairesDev 4. ë§Œë“¤ì–´ë‘” SwaggerHub í”„ë¡œì íŠ¸ì— ë³µë¶™í›„ ì´ìƒì—†ìœ¼ë©´ ì €ì¥í•˜ê¸° SwaggerHub í”„ë¡œì íŠ¸ëŠ” SmartBearì˜ SwaggerHubì— íšŒì›ê°€ì… í›„ì— í”„ë¡œì íŠ¸ë¥¼ ë§Œë“¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì‹ ê·œê³„ì •ì€ 30ì¼ë™ì•ˆ ìœ ë£Œí‹°ì–´ ê¸°ëŠ¥ì„ ì‚¬ìš©í•  ìˆ˜ ìˆì–´ìš”~!\nì°¸ê³ : Githubì— Swagger API ë¬¸ì„œë¥¼ ê³µìœ í•˜ê¸° github-actionì„ ì´ìš©í•´ì„œ swagger ì„œë²„ë¥¼ ë°°í¬í•´ë³´ì ì§ì ‘ localhostì— ìˆëŠ” ìŠ¤ì›¨ê±° jsonì½”ë“œë¥¼ yamlë¡œ ë³€í™˜í•´ì„œ swaggerHubì— ì§ì ‘ ë³µë¶™í•˜ëŠ” ë°©ì‹ì€ ì†ì´ ë§ì´ ê°€ê¸°ë•Œë¬¸ì— ê·€ì°®ê³  ë¶ˆí¸í–ˆìŠµë‹ˆë‹¤. API ì‘ë‹µê²°ê³¼ë‚˜ ì‘ë‹µìƒíƒœê°’ì´ ì¶”ê°€ë˜ê±°ë‚˜ ë³€ê²½ë  ìˆ˜ ìˆì„í…ë° ìœ ì§€ë³´ìˆ˜ ì¸¡ë©´ì—ì„œëŠ” ë¹„íš¨ìœ¨ì„ í•´ê²°í•˜ê³  ì‹¶ì—ˆìŠµë‹ˆë‹¤.\nì—¬ëŸ¬ê°€ì§€ ë°©ë²•ë“¤ì´ ì¡´ì¬ í–ˆìŠµë‹ˆë‹¤. github-actionì´ ê°€ì¥ì‰¬ìš´ë°©ë²•ì´ê¸´í•œë°.. ì•„ì‰½ê²Œë„ github-pagesë¥¼ ì´ìš©í•œ ë°©ë²•ì„í•˜ë ¤ë©´ ê¹ƒí—™ê³„ì • 1ê°œë‹¹ 1ê°œì˜ í˜ì´ì§€ë¥¼ ë§Œë“¤ ìˆ˜ ìˆëŠ” ì œì•½ì´ ìˆìŠµë‹ˆë‹¤. ì €ì˜ ê²½ìš°ì—ëŠ” ì´ ë¸”ë¡œê·¸ê°€ github-pageë¥¼ ì´ìš©í•œ ë°©ë²•ì´ê¸°ë•Œë¬¸ì— ë‹¤ë¥¸ ë°©ë²•ì„ ì°¾ì•„ë´ì•¼í–ˆìŠµë‹ˆë‹¤. ê³ ë¯¼í•˜ë˜ì¤‘ ê¹ƒí—™ì•¡ì…˜ì˜ ì›Œí¬í”Œë¡œìš°ë¡œ ì‘ì„±í•˜ëŠ” ë°©ë²•ìœ¼ë¡œ ì§„í–‰í•´ë³´ê¸°ë¡œí–ˆìŠµë‹ˆë‹¤.\nì›Œí¬í”Œë¡œìš° íŒŒì¼ ì‘ì„± (1ì°¨) deploy-openapi-swaggerhub.yaml\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 name: Deploy OpenAPI Spec to SwaggerHub on: push: branches: [\"main\"] jobs: deploy-openapi: runs-on: ubuntu-latest env: OWNER: sampleswagger-f17 API_NAME: hh-08-concert VERSION: 1.0.0 steps: - name: Checkout uses: actions/checkout@v3 - name: Give execute permission to gradlew run: chmod +x ./gradlew # application ë¹Œë“œ - name: Build the application run: ./gradlew bootJar # application ë°±ê·¸ë¼ìš´ë“œì—ì„œ ì‹¤í–‰ - name: Run the application in background run: | java -jar build/libs/concert-0.0.1-SNAPSHOT.jar \u0026 echo $! \u003e pid.txt # ìŠ¤í”„ë§ë¶€íŠ¸ê°€ ì™„ì „íˆ ì˜¬ë¼ì˜¬ë•Œê¹Œì§€ ëŒ€ê¸° # # http://localhost:8080/actuator/health ëŠ” health-checkì´ë©° # ì„œë²„ê°€ ì˜ ë™ì‘í•˜ëŠ”ì§€ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. - name: Wait for server to be ready run: | for i in {1..30}; do curl --silent http://localhost:8080/actuator/health \u0026\u0026 exit 0 echo \"â³ Waiting for server ...\" sleep 2 done echo \"âŒ Server did not start in time\" cat pid.txt | xargs kill exit 1 # ë¡œì»¬í˜¸ìŠ¤íŠ¸ë‚´ OpenAPI ìŠ¤í™ë‹¤ìš´ë¡œë“œ - name: Download OpenAPI spec run: curl http://localhost:8080/v3/api-docs -o openapi.json - name: Install SwaggerHub CLI run: npm install -g swaggerhub-cli - name: Push to swaggerHub run: | swaggerhub api:push // \\ --file openapi.json \\ --token ${{ secrets.SWAGGERHUB_API_KEY }} \\ --visibility public swaggerHubì˜ ì •ë³´ íŒŒì•…í•˜ê¸° ìŠ¤ì›¨ê±°í—™ì€ OWNER / API_NAME / VERSION ìœ¼ë¡œ êµ¬ì„±ë˜ì–´ìˆìŠµë‹ˆë‹¤. ì•„ë˜ì˜ ì´ë¯¸ì§€ì˜ URLì„ í™•ì¸í•´ë³´ì‹œë©´ ì‰½ê²Œ ì´í•´í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\nìŠ¤ì›¨ê±° APIí‚¤ ë°œê¸‰ê³¼ ê¹ƒí—™ì‹œí¬ë¦¿í‚¤ ê°’ì— ë„£ê¸° swaggerHubì˜ API ì‹œí¬ë¦¿í‚¤ ì°¾ê¸°\nswaggerHub API ì‹œí¬ë¦¿ê°’ì„ Github ë˜í¬ì§€í† ë¦¬ ì‹œí¬ë¦¿ê°’ì— ë„£ê¸°\në°˜ë³µë˜ëŠ” ë¹Œë“œ ì‹¤íŒ¨â€¦ ê²°êµ­ì€ ì›Œí¬í”Œë¡œìš°ë¥¼ í–ˆì§€ë§Œ ì‹¤íŒ¨ê°€ ë‚˜ì™”ìŠµë‹ˆë‹¤. ê·¸ì—ëŒ€í•œ ì´ìœ ëŠ” ì•„ë¬´ë˜ë„ ìŠ¤í”„ë§ë¶€íŠ¸ë¥¼ ì‹¤í–‰í•˜ë ¤ë©´ ë°ì´í„°ë² ì´ìŠ¤ì™€ì˜ ì—°ê²°ì´ í•„ìš”í•˜ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤. ì´ í”„ë¡œì„¸ìŠ¤ê°€ ë˜ë ¤ë©´ ì›ê²©ìœ¼ë¡œ ë°ì´í„°ë² ì´ìŠ¤ê°€ í•„ìš”í•©ë‹ˆë‹¤. í•˜ì§€ë§Œ ìŠ¤ì›¨ê±°ë§Œì„ ë°°í¬í•´ì•¼ë˜ë¯€ë¡œ êµ³ì´ í´ë¼ìš°ë“œì˜ DBë¥¼ ë¶™ì¼ í•„ìš”ê°€ ì—†ìœ¼ë¯€ë¡œ TestContainersë¥¼ í•˜ê¸°ë¡œ í–ˆìŠµë‹ˆë‹¤.\nTestContainer ì„¤ì •í•˜ê¸° ì´ í”„ë¡œì íŠ¸ì—ì„œëŠ” Mysqlì„ ì‚¬ìš©í•˜ê¸° ë•Œë¬¸ì— TestContainerë„ ë™ì¼í•œ ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ì‚¬ìš©í•´ì•¼í•©ë‹ˆë‹¤. build.gradleì— TestContainer ê´€ë ¨í•´ì„œ ì¶”ê°€í•´ì•¼í•©ë‹ˆë‹¤.\n1 2 3 4 5 6 // build.gradle dependencies { testImplementation 'org.testcontainers:junit-jupiter' testImplementation 'org.testcontainers:mysql' } ì›Œí¬í”Œë¡œìš°íŒŒì¼ ì‘ì„± (2ì°¨) application-ci.yml\nê¹ƒí—™ì•¡ì…˜ì—ì„œ í…ŒìŠ¤íŠ¸ì»¨í…Œì´ë„ˆë¥¼ ì‹¤í–‰í• ë•Œ ì‚¬ìš©í•˜ëŠ” ì„¤ì •ê°’ì…ë‹ˆë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 management: endpoints: web: exposure: include: health,info endpoint: health: show-details: always server: port: 8080 spring: dataSource: url: jdbc:tc:mysql:8.0:///testdb driver-class-name: org.testcontainers.jdbc.ContainerDatabaseDriver username: test password: test jpa: hibernate: ddl-auto: update show-sql: true database-platform: org.hibername.dialect.MySQL8Dialect logging: level: root: DEBUG deploy-openapi-swaggerhub.yaml\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 name: Deploy OpenAPI Spec to SwaggerHub on: push: branches: [\"main\", \"step05\", \"step06\"] jobs: deploy-openapi: runs-on: ubuntu-latest env: OWNER: sampleswagger-f17 API_NAME: hh-08-concert VERSION: 1.0.0 JAVA_TOOL_OPTIONS: \"-Dorg.slf4j.simpleLogger.defaultLogLevel=debug\" steps: - name: Checkout uses: actions/checkout@v3 # Java ì„¤ì¹˜ - name: Set up java uses: actions/setup-java@v3 with: java-version: \"17\" distribution: \"temurin\" - name: Give execute permission to gradlew run: chmod +x ./gradlew # application ë¹Œë“œ - name: Build the application run: ./gradlew bootJar # application ë°±ê·¸ë¼ìš´ë“œì—ì„œ ì‹¤í–‰ - name: Run the application in background run: | java -jar build/libs/concert-0.0.1-SNAPSHOT.jar --spring.profiles.active=ci \u0026 echo $! \u003e pid.txt # TestContainer ë¡œê·¸ í™•ì¸ ì¶”ê°€ - name: Debug logs if server fails if: failure() run: | echo \"ğŸ§© Showing last 100 lines from app logs (if any)\" tail -n 100 build/libs/*.log || echo \"No log file\" echo \"ğŸ³ Running Docker containers\" docker ps -a || echo \"Docker info not available\" # ì„œë²„ê°€ í†µì‹ ë˜ëŠ”ì§€ í™•ì¸ - name: Wait for server to be ready run: | for i in {1..30}; do curl --silent http://localhost:8080/actuator/health \u0026\u0026 exit 0 echo \"â³ Waiting for server ...\" sleep 2 done echo \"âŒ Server did not start in time\" echo \"ğŸ“œ ==== APP LOG START ====\" cat app.log || echo \"No log file found\" echo \"ğŸ“œ ==== APP LOG END ====\" cat pid.txt | xargs kill exit 1 # ë¡œì»¬í˜¸ìŠ¤íŠ¸ë‚´ OpenAPI ìŠ¤í™ë‹¤ìš´ë¡œë“œ - name: Download OpenAPI spec run: curl http://localhost:8080/v3/api-docs -o openapi.json - name: Install SwaggerHub CLI run: npm install -g swaggerhub-cli - name: Push to swaggerHub run: | swaggerhub api:push $OWNER/$API_NAME/$VERSION \\ --file openapi.json \\ --token ${{ secrets.SWAGGERHUB_API_KEY }} \\ --visibility public í•˜ì§€ë§Œ ì•„ì‰½ê²Œë„ Wait for server to be ready ë‹¨ê³„ì—ì„œ ê³„ì† ë˜‘ê°™ì€ ì‹¤íŒ¨ì—ì„œ ë°œìƒì„í•©ë‹ˆë‹¤. ì—°ê²°ì´ ë˜ì§€ ì•Šì•˜ê¸° ë•Œë¬¸ì¸ë°ìš”. ( ì´ ë¬¸ì œì— ëŒ€í•œ ìì„¸í•œ ì†”ë£¨ì…˜ì„ ì°¾ì€ê²½ìš°ì—ëŠ” dmsrkd1216@gmail.com ìœ¼ë¡œ ì´ë©”ì¼ ë³´ë‚´ì£¼ì‹œë©´ ê°ì‚¬í•˜ê² ìŠµë‹ˆë‹¤! )\nì§€ê¸ˆ ê³¼ì œë¥¼ í•´ì•¼ë˜ëŠ”ë° ê³¼ì œì™€ ìƒê´€ì—†ëŠ” ì‚½ì§ˆì„ í•´ë²„ë¦¬ê³ ë§ì•˜ë„¤ìš” ã… ã…  ì‹œê°„ì´ ë§ì´ ì†Œìš”ëœ ê´€ê³„ë¡œ ì‹¤íŒ¨ë¡œ ëë‚¬ìŠµë‹ˆë‹¤. ì•½ 3ì‹œê°„ 39ë¶„ì •ë„ ì‹œë„ë¥¼ í•´ë´¤ìŠµë‹ˆë‹¤. ê²°ê³¼ë¥¼ ëª»ì´ë¤„ë‚¸ê±´ ì•„ì‰½ì§€ë§Œ ê·¸ë˜ë„ í›„íšŒëŠ” ì—†ìŠµë‹ˆë‹¤.\nì¼ë‹¨ì€ ë¶ˆí¸í•˜ë”ë¼ë„ ì§ì ‘ ì œê°€ ë³µë¶™í•´ì„œ ì‚¬ìš©í•˜ëŠ” ë°©ì•ˆìœ¼ë¡œ ì§„í–‰í•´ì•¼ë ê±°ê°™ìŠµë‹ˆë‹¤. ì•„ë¬´ë˜ë„ í…ŒìŠ¤íŠ¸ì»¨í…Œì´ë„ˆê°€ ì˜ ì§€ì›í•œë‹¤í•´ë„ ì›Œí¬í”Œë¡œìš°ì—ì„œì˜ ì„œë²„ì™€ì˜ í†µì‹ ì´ ì–´ë ¤ìš¸ê±°ê°™ìŠµë‹ˆë‹¤.\në§Œì¼ ì„±ê³µì´ ëë‹¤í•˜ë”ë¼ë„, ì¶”í›„ì— ë ˆë””ìŠ¤ë‚˜, kafka ì´ ì¶”ê°€ëœë‹¤ë©´ ì´ ì›Œí¬í”Œë¡œìš°ì—ë„ ì—°ê²°ì„ í•´ì„œ ë°˜ì˜ì„ í•´ì•¼ë ê²ë‹ˆë‹¤. TestContainersì²˜ëŸ¼ ì›Œí¬í”Œë¡œìš° ì‹¤í–‰ì¤‘ì—ì„œë§Œ ì‚¬ìš©ë˜ëŠ” ì†Œí”„íŠ¸ì›¨ì–´ê°€ ìˆëŠ”ì§€ ì§ì ‘ ì°¾ì•„ë´ì•¼ë ê±° ê°™ìŠµë‹ˆë‹¤.\nì°¸ê³ : í˜‘ì—…ì„ ìœ„í•œ Swagger ë°°í¬í•˜ê¸°(1) ","wordCount":"1245","inLanguage":"en","datePublished":"2025-04-04T00:00:00Z","dateModified":"2025-04-04T00:00:00Z","mainEntityOfPage":{"@type":"WebPage","@id":"https://loveAlakazam.github.io/blog/docs/swagger-api/"},"publisher":{"@type":"Organization","name":"EK Dev Blog","logo":{"@type":"ImageObject","url":"https://loveAlakazam.github.io/blog/%3Clink%20/%20abs%20url%3E"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://loveAlakazam.github.io/blog/ accesskey=h title="EK Dev Blog (Alt + H)"><img src=https://loveAlakazam.github.io/apple-touch-icon.png alt aria-label=logo height=35>EK Dev Blog</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://eunkangchoi.github.io/resume/ title=Resume><span>Resume</span>&nbsp;<svg fill="none" shape-rendering="geometricPrecision" stroke="currentcolor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" viewBox="0 0 24 24" height="12" width="12"><path d="M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6"/><path d="M15 3h6v6"/><path d="M10 14 21 3"/></svg></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://loveAlakazam.github.io/blog/>Home</a>&nbsp;Â»&nbsp;<a href=https://loveAlakazam.github.io/blog/docs/>Docs</a></div><h1 class="post-title entry-hint-parent">SpringBootì—ì„œ Swagger ë„ì…ë¶€í„° íŠ¸ëŸ¬ë¸”ìŠˆíŒ…ì— ë°°í¬ê¹Œì§€...(?)</h1><div class=post-meta><span title='2025-04-04 00:00:00 +0000 UTC'>April 4, 2025</span></div></header><div class=post-content><h2 id=ì„œë¡ >ì„œë¡ <a hidden class=anchor aria-hidden=true href=#ì„œë¡ >#</a></h2><p>APIëª…ì„¸ì„œëŠ” í”„ë¡ íŠ¸ì—”ë“œì™€ ë°±ì—”ë“œê°„ì˜ í˜‘ì—…ì„ ìœ„í•´ì„œ ê°€ì¥ í•„ìš”í•œ ë„êµ¬ì…ë‹ˆë‹¤.
ë°±ì—”ë“œ ê°œë°œìëŠ” APIë¥¼ ì„¤ê³„í•˜ê³  ê³µìœ í• ë•Œ APIëª…ì„¸ì„œë¥¼ ë§Œë“­ë‹ˆë‹¤. API ëª…ì„¸ì„œë¥¼ ë‹¤ë£¨ëŠ” ëŒ€í‘œì ì¸ íˆ´ë¡œëŠ” Swaggerê°€ ìˆìŠµë‹ˆë‹¤.
ì´ë²ˆì—ëŠ” Swagger ì„ ë„ì…í•˜ëŠ” ê³¼ì •ê³¼ ì¤‘ê°„ì— ê²ªì€ íŠ¸ëŸ¬ë¸”ìŠˆíŒ… í•´ê²°ê³¼ì • ê·¸ë¦¬ê³  ë”ë‚˜ì•„ê°€ì„œ ì§ì ‘ github-actionìœ¼ë¡œ ë°°í¬í•˜ëŠ” ê³¼ì •ì„ ê³µìœ í•´ë³´ë„ë¡í•˜ê² ìŠµë‹ˆë‹¤.</p><hr><h2 id=ìŠ¤í”„ë§ë¶€íŠ¸ì—-ìŠ¤ì›¨ê±°-ë„ì…í•˜ê¸°>ìŠ¤í”„ë§ë¶€íŠ¸ì— ìŠ¤ì›¨ê±° ë„ì…í•˜ê¸°<a hidden class=anchor aria-hidden=true href=#ìŠ¤í”„ë§ë¶€íŠ¸ì—-ìŠ¤ì›¨ê±°-ë„ì…í•˜ê¸°>#</a></h2><ul><li>Java: 17</li><li>SpringBoot: 3.4.4</li></ul><h3 id=buildgradle-ì—-ì¶”ê°€í•˜ê¸°>build.gradle ì— ì¶”ê°€í•˜ê¸°<a hidden class=anchor aria-hidden=true href=#buildgradle-ì—-ì¶”ê°€í•˜ê¸°>#</a></h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-0-1><a class=lnlinks href=#hl-0-1>1</a>
</span><span class=lnt id=hl-0-2><a class=lnlinks href=#hl-0-2>2</a>
</span><span class=lnt id=hl-0-3><a class=lnlinks href=#hl-0-3>3</a>
</span><span class=lnt id=hl-0-4><a class=lnlinks href=#hl-0-4>4</a>
</span><span class=lnt id=hl-0-5><a class=lnlinks href=#hl-0-5>5</a>
</span><span class=lnt id=hl-0-6><a class=lnlinks href=#hl-0-6>6</a>
</span><span class=lnt id=hl-0-7><a class=lnlinks href=#hl-0-7>7</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-groovy data-lang=groovy><span class=line><span class=cl><span class=n>dependencies</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl> <span class=c1>// Swagger UI
</span></span></span><span class=line><span class=cl><span class=c1></span> <span class=n>implementation</span> <span class=s1>&#39;org.springdoc:springdoc-openapi-starter-webmvc-ui:2.0.2&#39;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=o>...</span><span class=err>ìƒëµ</span><span class=o>...</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=applicationyaml-ì—-ì¶”ê°€í•˜ê¸°>application.yaml ì— ì¶”ê°€í•˜ê¸°<a hidden class=anchor aria-hidden=true href=#applicationyaml-ì—-ì¶”ê°€í•˜ê¸°>#</a></h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-1-1><a class=lnlinks href=#hl-1-1> 1</a>
</span><span class=lnt id=hl-1-2><a class=lnlinks href=#hl-1-2> 2</a>
</span><span class=lnt id=hl-1-3><a class=lnlinks href=#hl-1-3> 3</a>
</span><span class=lnt id=hl-1-4><a class=lnlinks href=#hl-1-4> 4</a>
</span><span class=lnt id=hl-1-5><a class=lnlinks href=#hl-1-5> 5</a>
</span><span class=lnt id=hl-1-6><a class=lnlinks href=#hl-1-6> 6</a>
</span><span class=lnt id=hl-1-7><a class=lnlinks href=#hl-1-7> 7</a>
</span><span class=lnt id=hl-1-8><a class=lnlinks href=#hl-1-8> 8</a>
</span><span class=lnt id=hl-1-9><a class=lnlinks href=#hl-1-9> 9</a>
</span><span class=lnt id=hl-1-10><a class=lnlinks href=#hl-1-10>10</a>
</span><span class=lnt id=hl-1-11><a class=lnlinks href=#hl-1-11>11</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>spring</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>application</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>hhplus-concert</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=l>...(ìƒëµ)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>springdoc</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>api-docs</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>path</span><span class=p>:</span><span class=w> </span><span class=l>/v3/api-docs</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>swagger-ui</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>path</span><span class=p>:</span><span class=w> </span><span class=l>/swagger-ui.html</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>operationSorter</span><span class=p>:</span><span class=w> </span><span class=l>method</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><hr><h2 id=ë„ì…ì¤‘-ë¬¸ì œ-ë°œìƒ>ë„ì…ì¤‘ ë¬¸ì œ ë°œìƒ<a hidden class=anchor aria-hidden=true href=#ë„ì…ì¤‘-ë¬¸ì œ-ë°œìƒ>#</a></h2><p>ë¡œì»¬í˜¸ìŠ¤íŠ¸ì—ì„œ ì‹¤í–‰í›„, ë¸Œë¼ìš°ì €ì˜ URLì— <code>localhost:8080/swagger-ui/index.html</code> ì— ì ‘ì†í–ˆë”ë‹ˆ ì•„ë˜ì´ë¯¸ì§€ì™€ ê°™ì€ ì—ëŸ¬ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.</p><p><img alt=swagger-error loading=lazy src=../images/swagger-error.png></p><p>ì´ ì—ëŸ¬ì— ëŒ€í•œ ë¬¸ì œì  ì›ì¸ì€ GlobalHandlerException í•¸ë“¤ëŸ¬ì˜ <code>@RestControllerAdvice</code> ë°ì½”ë ˆì´í„°ë¥¼ ë¶™ì˜€ê¸° ë•Œë¬¸ì— ë°œìƒí–ˆìŠµë‹ˆë‹¤.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-2-1><a class=lnlinks href=#hl-2-1> 1</a>
</span><span class=lnt id=hl-2-2><a class=lnlinks href=#hl-2-2> 2</a>
</span><span class=lnt id=hl-2-3><a class=lnlinks href=#hl-2-3> 3</a>
</span><span class=lnt id=hl-2-4><a class=lnlinks href=#hl-2-4> 4</a>
</span><span class=lnt id=hl-2-5><a class=lnlinks href=#hl-2-5> 5</a>
</span><span class=lnt id=hl-2-6><a class=lnlinks href=#hl-2-6> 6</a>
</span><span class=lnt id=hl-2-7><a class=lnlinks href=#hl-2-7> 7</a>
</span><span class=lnt id=hl-2-8><a class=lnlinks href=#hl-2-8> 8</a>
</span><span class=lnt id=hl-2-9><a class=lnlinks href=#hl-2-9> 9</a>
</span><span class=lnt id=hl-2-10><a class=lnlinks href=#hl-2-10>10</a>
</span><span class=lnt id=hl-2-11><a class=lnlinks href=#hl-2-11>11</a>
</span><span class=lnt id=hl-2-12><a class=lnlinks href=#hl-2-12>12</a>
</span><span class=lnt id=hl-2-13><a class=lnlinks href=#hl-2-13>13</a>
</span><span class=lnt id=hl-2-14><a class=lnlinks href=#hl-2-14>14</a>
</span><span class=lnt id=hl-2-15><a class=lnlinks href=#hl-2-15>15</a>
</span><span class=lnt id=hl-2-16><a class=lnlinks href=#hl-2-16>16</a>
</span><span class=lnt id=hl-2-17><a class=lnlinks href=#hl-2-17>17</a>
</span><span class=lnt id=hl-2-18><a class=lnlinks href=#hl-2-18>18</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=c1>// GlobalExceptionHandler.java</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nd>@RestControllerAdvice</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=kd>public</span><span class=w> </span><span class=kd>class</span> <span class=nc>GlobalExceptionHandler</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w> </span><span class=c1>// ìœ íš¨ì„±ê²€ì‚¬ ì‹¤íŒ¨ë¡œ ë°œìƒí•œ ì˜ˆì™¸ì²˜ë¦¬: 400 ì—ëŸ¬ë°˜í™˜</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w> </span><span class=nd>@ExceptionHandler</span><span class=p>(</span><span class=n>InvalidValidationException</span><span class=p>.</span><span class=na>class</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w> </span><span class=nd>@ResponseStatus</span><span class=p>(</span><span class=n>HttpStatus</span><span class=p>.</span><span class=na>BAD_REQUEST</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w> </span><span class=kd>public</span><span class=w> </span><span class=n>ErrorResponse</span><span class=w> </span><span class=nf>handleInvalidValidationException</span><span class=p>(</span><span class=n>InvalidValidationException</span><span class=w> </span><span class=n>e</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=k>return</span><span class=w> </span><span class=n>ErrorResponse</span><span class=p>.</span><span class=na>of</span><span class=p>(</span><span class=n>HttpStatus</span><span class=p>.</span><span class=na>BAD_REQUEST</span><span class=p>.</span><span class=na>value</span><span class=p>(),</span><span class=w> </span><span class=n>e</span><span class=p>.</span><span class=na>getMessage</span><span class=p>());</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w> </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w> </span><span class=c1>// ì„œë²„ë‚´ë¶€ ì˜¤ë¥˜ë¡œ ë°œìƒí•œ ì˜ˆì™¸ì²˜ë¦¬: 500 ì—ëŸ¬ë°˜í™˜</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w> </span><span class=nd>@ExceptionHandler</span><span class=p>(</span><span class=n>Exception</span><span class=p>.</span><span class=na>class</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w> </span><span class=nd>@ResponseStatus</span><span class=p>(</span><span class=n>HttpStatus</span><span class=p>.</span><span class=na>INTERNAL_SERVER_ERROR</span><span class=p>)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w> </span><span class=kd>public</span><span class=w> </span><span class=n>ErrorResponse</span><span class=w> </span><span class=nf>handleException</span><span class=p>(</span><span class=n>Exception</span><span class=w> </span><span class=n>e</span><span class=p>)</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=k>return</span><span class=w> </span><span class=n>ErrorResponse</span><span class=p>.</span><span class=na>of</span><span class=p>(</span><span class=n>HttpStatus</span><span class=p>.</span><span class=na>INTERNAL_SERVER_ERROR</span><span class=p>.</span><span class=na>value</span><span class=p>(),</span><span class=w> </span><span class=n>e</span><span class=p>.</span><span class=na>getMessage</span><span class=p>());</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w> </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><p>ì‹¤í–‰ë¡œê·¸ì—ì„œ ë°œìƒí•œ ì˜¤ë¥˜ë¬¸êµ¬ëŠ” ì•„ë˜ì™€ ê°™ì´ ê¸°ì¬ë˜ì–´ìˆìŠµë‹ˆë‹¤.
ì´ ì—ëŸ¬ì— ëŒ€í•œ í•´ì„ì„ í•´ë³´ìë©´, &ldquo;í˜„ì¬ ì‹¤í–‰ì¤‘ì¸ ì½”ë“œê°€ ControllerAdviceBean(Object) ë¼ëŠ” ìƒì„±ì ë©”ì„œë“œê°€ ìˆëŠ”ì¤„ ì•Œì•˜ëŠ”ë° ì‹¤ì œë¡œëŠ” ê·¸ ë©”ì„œë“œê°€ ì—†ëŠ” Spring ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì°¸ì¡°í•˜ê³  ìˆì–´ì„œ ë°œìƒí•˜ëŠ” ì˜¤ë¥˜ì´ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.</p><blockquote><p>java.lang.NoSuchMethodError:
&lsquo;void org.springframework.web.method.ControllerAdviceBean.(java.lang.Object)&rsquo;</p></blockquote><p>Swagger UIëŠ” ë‚´ë¶€ì ìœ¼ë¡œ <code>[GET] /v3/api-docs</code> URLì„ í˜¸ì¶œí•˜ëŠ”ë° ì´ ìš”ì²­ì„ ì²˜ë¦¬í•˜ëŠ” ê³¼ì •ì—ì„œ <code>@ControllerAdvice</code>ë¥¼ ìŠ¤ìº”í•˜ê±°ë‚˜ ì´ˆê¸°í™”í• ë•Œ ì˜¤ë¥˜ê°€ ë°œìƒí•˜ì—¬ ì„œë²„ ìì²´ì—ì„œ 500ì—ëŸ¬ë¥¼ ë¦¬í„´í•˜ì—¬ ìŠ¤ì›¨ê±°ë¬¸ì„œ ë¡œë”©ì— ì‹¤íŒ¨ë©ë‹ˆë‹¤.</p><p>GlobalExceptionHandlerì— ë¶€ì—¬ëœ <code>@RestControllerAdvice</code> ë°ì½”ë ˆì´í„°ë¥¼ ì œê±°í•¨ìœ¼ë¡œì¨ ì´ ë¬¸ì œë¥¼ í•´ê²°í–ˆìŠµë‹ˆë‹¤.</p><ul><li>ì°¸ê³ : <a href=https://dev-meung.tistory.com/entry/%ED%95%B4%EC%BB%A4%ED%86%A4-HY-THON-%ED%8A%B8%EB%9F%AC%EB%B8%94%EC%8A%88%ED%8C%85-Swagger-500-%EC%97%90%EB%9F%AC-Failed-to-load-API-definition>[íŠ¸ëŸ¬ë¸”ìŠˆíŒ…] Swagger 500ì—ëŸ¬: Failed to load API definition</a></li></ul><hr><h2 id=ë¡œì»¬í˜¸ìŠ¤íŠ¸ì—-ìˆëŠ”-swagger-apiëª…ì„¸ë¥¼-swaggerhubì—-ì˜®ê¸¸-ìˆ˜-ì—†ì„ê¹Œ>ë¡œì»¬í˜¸ìŠ¤íŠ¸ì— ìˆëŠ” swagger APIëª…ì„¸ë¥¼ swaggerHubì— ì˜®ê¸¸ ìˆ˜ ì—†ì„ê¹Œ?<a hidden class=anchor aria-hidden=true href=#ë¡œì»¬í˜¸ìŠ¤íŠ¸ì—-ìˆëŠ”-swagger-apiëª…ì„¸ë¥¼-swaggerhubì—-ì˜®ê¸¸-ìˆ˜-ì—†ì„ê¹Œ>#</a></h2><h3 id=1-ë¡œì»¬í˜¸ìŠ¤íŠ¸ì˜-swaggerlocalhost8080swagger-uiindexhtmlì—-ì ‘ì†í•˜ê¸°>1. ë¡œì»¬í˜¸ìŠ¤íŠ¸ì˜ swagger(<code>localhost:8080/swagger-ui/index.html</code>)ì— ì ‘ì†í•˜ê¸°<a hidden class=anchor aria-hidden=true href=#1-ë¡œì»¬í˜¸ìŠ¤íŠ¸ì˜-swaggerlocalhost8080swagger-uiindexhtmlì—-ì ‘ì†í•˜ê¸°>#</a></h3><p><img alt=swagger-local loading=lazy src=../images/swagger-local.png></p><h3 id=2-v3api-docsì—-ì ‘ì†í•´ì„œ-jsonì½”ë“œë¥¼-ì–»ê¸°>2. <code>/v3/api-docs</code>ì— ì ‘ì†í•´ì„œ jsonì½”ë“œë¥¼ ì–»ê¸°<a hidden class=anchor aria-hidden=true href=#2-v3api-docsì—-ì ‘ì†í•´ì„œ-jsonì½”ë“œë¥¼-ì–»ê¸°>#</a></h3><p>ìœ„ì˜ ì´ë¯¸ì§€ì²˜ëŸ¼ ì‘ì€ ê¸€ì”¨ë¡œ <code>/v3/api-docs</code> ë§í¬ì— ë“¤ì–´ê°€ê²Œë˜ë©´ ë¡œì»¬ì— ë„ìš´ swaggerUIì— ëŒ€í•œ JSON íŒŒì¼ì„ ì–»ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì°¸ê³ ë¡œ pretty í¬ë§·íŒ…ë³´ë‹¤ëŠ” raw í¬ë§·íŒ…ìœ¼ë¡œ jsoníŒŒì¼ì„ ë³µì‚¬í•˜ê¸°ë¥¼ ê¶Œì¥í•©ë‹ˆë‹¤.</p><p><img alt=swagger-ui-to-json loading=lazy src=../images/swagger-ui-to-json.png></p><h3 id=3-ì½”ë“œ-í¬ë§·-ë³€ê²½-ì‚¬ì´íŠ¸ì—-ë“¤ì–´ê°€ì„œ-json-ë³µë¶™í•˜ì—¬-yaml-ë¡œ-ì½”ë“œë¥¼-ë³€í™˜í•˜ê¸°>3. ì½”ë“œ í¬ë§· ë³€ê²½ ì‚¬ì´íŠ¸ì— ë“¤ì–´ê°€ì„œ json ë³µë¶™í•˜ì—¬ yaml ë¡œ ì½”ë“œë¥¼ ë³€í™˜í•˜ê¸°<a hidden class=anchor aria-hidden=true href=#3-ì½”ë“œ-í¬ë§·-ë³€ê²½-ì‚¬ì´íŠ¸ì—-ë“¤ì–´ê°€ì„œ-json-ë³µë¶™í•˜ì—¬-yaml-ë¡œ-ì½”ë“œë¥¼-ë³€í™˜í•˜ê¸°>#</a></h3><ul><li>ì½”ë“œ í¬ë§· ë³€ê²½ ì‚¬ì´íŠ¸: <a href=https://www.bairesdev.com/tools/json2yaml/>BairesDev</a></li></ul><h3 id=4-ë§Œë“¤ì–´ë‘”-swaggerhub-í”„ë¡œì íŠ¸ì—-ë³µë¶™í›„-ì´ìƒì—†ìœ¼ë©´-ì €ì¥í•˜ê¸°>4. ë§Œë“¤ì–´ë‘” SwaggerHub í”„ë¡œì íŠ¸ì— ë³µë¶™í›„ ì´ìƒì—†ìœ¼ë©´ ì €ì¥í•˜ê¸°<a hidden class=anchor aria-hidden=true href=#4-ë§Œë“¤ì–´ë‘”-swaggerhub-í”„ë¡œì íŠ¸ì—-ë³µë¶™í›„-ì´ìƒì—†ìœ¼ë©´-ì €ì¥í•˜ê¸°>#</a></h3><p>SwaggerHub í”„ë¡œì íŠ¸ëŠ” SmartBearì˜ SwaggerHubì— íšŒì›ê°€ì… í›„ì— í”„ë¡œì íŠ¸ë¥¼ ë§Œë“¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì‹ ê·œê³„ì •ì€ 30ì¼ë™ì•ˆ ìœ ë£Œí‹°ì–´ ê¸°ëŠ¥ì„ ì‚¬ìš©í•  ìˆ˜ ìˆì–´ìš”~!</p><p><img alt=swaggerhub-api-hub loading=lazy src=../images/swaggerhub-api-hub.png></p><ul><li>ì°¸ê³ : <a href=https://velog.io/@gdhi/GitHub%EC%97%90-Swagger-API-%EB%AC%B8%EC%84%9C%EB%A5%BC-%EA%B3%B5%EC%9C%A0%ED%95%98%EA%B8%B0>Githubì— Swagger API ë¬¸ì„œë¥¼ ê³µìœ í•˜ê¸°</a></li></ul><hr><h2 id=github-actionì„-ì´ìš©í•´ì„œ-swagger-ì„œë²„ë¥¼-ë°°í¬í•´ë³´ì>github-actionì„ ì´ìš©í•´ì„œ swagger ì„œë²„ë¥¼ ë°°í¬í•´ë³´ì<a hidden class=anchor aria-hidden=true href=#github-actionì„-ì´ìš©í•´ì„œ-swagger-ì„œë²„ë¥¼-ë°°í¬í•´ë³´ì>#</a></h2><p>ì§ì ‘ localhostì— ìˆëŠ” ìŠ¤ì›¨ê±° jsonì½”ë“œë¥¼ yamlë¡œ ë³€í™˜í•´ì„œ swaggerHubì— ì§ì ‘ ë³µë¶™í•˜ëŠ” ë°©ì‹ì€ ì†ì´ ë§ì´ ê°€ê¸°ë•Œë¬¸ì— ê·€ì°®ê³  ë¶ˆí¸í–ˆìŠµë‹ˆë‹¤. API ì‘ë‹µê²°ê³¼ë‚˜ ì‘ë‹µìƒíƒœê°’ì´ ì¶”ê°€ë˜ê±°ë‚˜ ë³€ê²½ë  ìˆ˜ ìˆì„í…ë° ìœ ì§€ë³´ìˆ˜ ì¸¡ë©´ì—ì„œëŠ” ë¹„íš¨ìœ¨ì„ í•´ê²°í•˜ê³  ì‹¶ì—ˆìŠµë‹ˆë‹¤.</p><p>ì—¬ëŸ¬ê°€ì§€ ë°©ë²•ë“¤ì´ ì¡´ì¬ í–ˆìŠµë‹ˆë‹¤. github-actionì´ ê°€ì¥ì‰¬ìš´ë°©ë²•ì´ê¸´í•œë°.. ì•„ì‰½ê²Œë„ github-pagesë¥¼ ì´ìš©í•œ ë°©ë²•ì„í•˜ë ¤ë©´ ê¹ƒí—™ê³„ì • 1ê°œë‹¹ 1ê°œì˜ í˜ì´ì§€ë¥¼ ë§Œë“¤ ìˆ˜ ìˆëŠ” ì œì•½ì´ ìˆìŠµë‹ˆë‹¤. ì €ì˜ ê²½ìš°ì—ëŠ” ì´ ë¸”ë¡œê·¸ê°€ github-pageë¥¼ ì´ìš©í•œ ë°©ë²•ì´ê¸°ë•Œë¬¸ì— ë‹¤ë¥¸ ë°©ë²•ì„ ì°¾ì•„ë´ì•¼í–ˆìŠµë‹ˆë‹¤. ê³ ë¯¼í•˜ë˜ì¤‘ ê¹ƒí—™ì•¡ì…˜ì˜ ì›Œí¬í”Œë¡œìš°ë¡œ ì‘ì„±í•˜ëŠ” ë°©ë²•ìœ¼ë¡œ ì§„í–‰í•´ë³´ê¸°ë¡œí–ˆìŠµë‹ˆë‹¤.</p><h3 id=ì›Œí¬í”Œë¡œìš°-íŒŒì¼-ì‘ì„±-1ì°¨>ì›Œí¬í”Œë¡œìš° íŒŒì¼ ì‘ì„± (1ì°¨)<a hidden class=anchor aria-hidden=true href=#ì›Œí¬í”Œë¡œìš°-íŒŒì¼-ì‘ì„±-1ì°¨>#</a></h3><blockquote><p>deploy-openapi-swaggerhub.yaml</p></blockquote><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-3-1><a class=lnlinks href=#hl-3-1> 1</a>
</span><span class=lnt id=hl-3-2><a class=lnlinks href=#hl-3-2> 2</a>
</span><span class=lnt id=hl-3-3><a class=lnlinks href=#hl-3-3> 3</a>
</span><span class=lnt id=hl-3-4><a class=lnlinks href=#hl-3-4> 4</a>
</span><span class=lnt id=hl-3-5><a class=lnlinks href=#hl-3-5> 5</a>
</span><span class=lnt id=hl-3-6><a class=lnlinks href=#hl-3-6> 6</a>
</span><span class=lnt id=hl-3-7><a class=lnlinks href=#hl-3-7> 7</a>
</span><span class=lnt id=hl-3-8><a class=lnlinks href=#hl-3-8> 8</a>
</span><span class=lnt id=hl-3-9><a class=lnlinks href=#hl-3-9> 9</a>
</span><span class=lnt id=hl-3-10><a class=lnlinks href=#hl-3-10>10</a>
</span><span class=lnt id=hl-3-11><a class=lnlinks href=#hl-3-11>11</a>
</span><span class=lnt id=hl-3-12><a class=lnlinks href=#hl-3-12>12</a>
</span><span class=lnt id=hl-3-13><a class=lnlinks href=#hl-3-13>13</a>
</span><span class=lnt id=hl-3-14><a class=lnlinks href=#hl-3-14>14</a>
</span><span class=lnt id=hl-3-15><a class=lnlinks href=#hl-3-15>15</a>
</span><span class=lnt id=hl-3-16><a class=lnlinks href=#hl-3-16>16</a>
</span><span class=lnt id=hl-3-17><a class=lnlinks href=#hl-3-17>17</a>
</span><span class=lnt id=hl-3-18><a class=lnlinks href=#hl-3-18>18</a>
</span><span class=lnt id=hl-3-19><a class=lnlinks href=#hl-3-19>19</a>
</span><span class=lnt id=hl-3-20><a class=lnlinks href=#hl-3-20>20</a>
</span><span class=lnt id=hl-3-21><a class=lnlinks href=#hl-3-21>21</a>
</span><span class=lnt id=hl-3-22><a class=lnlinks href=#hl-3-22>22</a>
</span><span class=lnt id=hl-3-23><a class=lnlinks href=#hl-3-23>23</a>
</span><span class=lnt id=hl-3-24><a class=lnlinks href=#hl-3-24>24</a>
</span><span class=lnt id=hl-3-25><a class=lnlinks href=#hl-3-25>25</a>
</span><span class=lnt id=hl-3-26><a class=lnlinks href=#hl-3-26>26</a>
</span><span class=lnt id=hl-3-27><a class=lnlinks href=#hl-3-27>27</a>
</span><span class=lnt id=hl-3-28><a class=lnlinks href=#hl-3-28>28</a>
</span><span class=lnt id=hl-3-29><a class=lnlinks href=#hl-3-29>29</a>
</span><span class=lnt id=hl-3-30><a class=lnlinks href=#hl-3-30>30</a>
</span><span class=lnt id=hl-3-31><a class=lnlinks href=#hl-3-31>31</a>
</span><span class=lnt id=hl-3-32><a class=lnlinks href=#hl-3-32>32</a>
</span><span class=lnt id=hl-3-33><a class=lnlinks href=#hl-3-33>33</a>
</span><span class=lnt id=hl-3-34><a class=lnlinks href=#hl-3-34>34</a>
</span><span class=lnt id=hl-3-35><a class=lnlinks href=#hl-3-35>35</a>
</span><span class=lnt id=hl-3-36><a class=lnlinks href=#hl-3-36>36</a>
</span><span class=lnt id=hl-3-37><a class=lnlinks href=#hl-3-37>37</a>
</span><span class=lnt id=hl-3-38><a class=lnlinks href=#hl-3-38>38</a>
</span><span class=lnt id=hl-3-39><a class=lnlinks href=#hl-3-39>39</a>
</span><span class=lnt id=hl-3-40><a class=lnlinks href=#hl-3-40>40</a>
</span><span class=lnt id=hl-3-41><a class=lnlinks href=#hl-3-41>41</a>
</span><span class=lnt id=hl-3-42><a class=lnlinks href=#hl-3-42>42</a>
</span><span class=lnt id=hl-3-43><a class=lnlinks href=#hl-3-43>43</a>
</span><span class=lnt id=hl-3-44><a class=lnlinks href=#hl-3-44>44</a>
</span><span class=lnt id=hl-3-45><a class=lnlinks href=#hl-3-45>45</a>
</span><span class=lnt id=hl-3-46><a class=lnlinks href=#hl-3-46>46</a>
</span><span class=lnt id=hl-3-47><a class=lnlinks href=#hl-3-47>47</a>
</span><span class=lnt id=hl-3-48><a class=lnlinks href=#hl-3-48>48</a>
</span><span class=lnt id=hl-3-49><a class=lnlinks href=#hl-3-49>49</a>
</span><span class=lnt id=hl-3-50><a class=lnlinks href=#hl-3-50>50</a>
</span><span class=lnt id=hl-3-51><a class=lnlinks href=#hl-3-51>51</a>
</span><span class=lnt id=hl-3-52><a class=lnlinks href=#hl-3-52>52</a>
</span><span class=lnt id=hl-3-53><a class=lnlinks href=#hl-3-53>53</a>
</span><span class=lnt id=hl-3-54><a class=lnlinks href=#hl-3-54>54</a>
</span><span class=lnt id=hl-3-55><a class=lnlinks href=#hl-3-55>55</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Deploy OpenAPI Spec to SwaggerHub</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>on</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>push</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>branches</span><span class=p>:</span><span class=w> </span><span class=p>[</span><span class=s2>&#34;main&#34;</span><span class=p>]</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>jobs</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>deploy-openapi</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>runs-on</span><span class=p>:</span><span class=w> </span><span class=l>ubuntu-latest</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>env</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>OWNER</span><span class=p>:</span><span class=w> </span><span class=l>sampleswagger-f17</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>API_NAME</span><span class=p>:</span><span class=w> </span><span class=l>hh-08-concert</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>VERSION</span><span class=p>:</span><span class=w> </span><span class=m>1.0.0</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>steps</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Checkout</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>uses</span><span class=p>:</span><span class=w> </span><span class=l>actions/checkout@v3</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Give execute permission to gradlew</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>run</span><span class=p>:</span><span class=w> </span><span class=l>chmod +x ./gradlew</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=c># application ë¹Œë“œ</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Build the application</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>run</span><span class=p>:</span><span class=w> </span><span class=l>./gradlew bootJar</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=c># application ë°±ê·¸ë¼ìš´ë“œì—ì„œ ì‹¤í–‰</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Run the application in background</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>run</span><span class=p>:</span><span class=w> </span><span class=p>|</span><span class=sd>
</span></span></span><span class=line><span class=cl><span class=sd>          java -jar build/libs/concert-0.0.1-SNAPSHOT.jar &amp;
</span></span></span><span class=line><span class=cl><span class=sd>          echo $! &gt; pid.txt</span><span class=w>          
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=c># ìŠ¤í”„ë§ë¶€íŠ¸ê°€ ì™„ì „íˆ ì˜¬ë¼ì˜¬ë•Œê¹Œì§€ ëŒ€ê¸°</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=c>#</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=c># http://localhost:8080/actuator/health ëŠ” health-checkì´ë©°</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=c># ì„œë²„ê°€ ì˜ ë™ì‘í•˜ëŠ”ì§€ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Wait for server to be ready</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>run</span><span class=p>:</span><span class=w> </span><span class=p>|</span><span class=sd>
</span></span></span><span class=line><span class=cl><span class=sd>          for i in {1..30}; do
</span></span></span><span class=line><span class=cl><span class=sd>            curl --silent http://localhost:8080/actuator/health &amp;&amp; exit 0
</span></span></span><span class=line><span class=cl><span class=sd>            echo &#34;â³ Waiting for server ...&#34;
</span></span></span><span class=line><span class=cl><span class=sd>            sleep 2
</span></span></span><span class=line><span class=cl><span class=sd>          done
</span></span></span><span class=line><span class=cl><span class=sd>          echo &#34;âŒ Server did not start in time&#34;
</span></span></span><span class=line><span class=cl><span class=sd>          cat pid.txt | xargs kill
</span></span></span><span class=line><span class=cl><span class=sd>          exit 1</span><span class=w>          
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=c># ë¡œì»¬í˜¸ìŠ¤íŠ¸ë‚´ OpenAPI ìŠ¤í™ë‹¤ìš´ë¡œë“œ</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Download OpenAPI spec</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>run</span><span class=p>:</span><span class=w> </span><span class=l>curl http://localhost:8080/v3/api-docs -o openapi.json</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Install SwaggerHub CLI</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>run</span><span class=p>:</span><span class=w> </span><span class=l>npm install -g swaggerhub-cli</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Push to swaggerHub</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>run</span><span class=p>:</span><span class=w> </span><span class=p>|</span><span class=sd>
</span></span></span><span class=line><span class=cl><span class=sd>          swaggerhub api:push &lt;OWNER&gt;/&lt;API_NAME&gt;/&lt;VERSION&gt; \
</span></span></span><span class=line><span class=cl><span class=sd>            --file openapi.json \
</span></span></span><span class=line><span class=cl><span class=sd>            --token ${{ secrets.SWAGGERHUB_API_KEY }} \
</span></span></span><span class=line><span class=cl><span class=sd>            --visibility public</span><span class=w>          
</span></span></span></code></pre></td></tr></table></div></div><h3 id=swaggerhubì˜-ì •ë³´-íŒŒì•…í•˜ê¸°>swaggerHubì˜ ì •ë³´ íŒŒì•…í•˜ê¸°<a hidden class=anchor aria-hidden=true href=#swaggerhubì˜-ì •ë³´-íŒŒì•…í•˜ê¸°>#</a></h3><p>ìŠ¤ì›¨ê±°í—™ì€ OWNER / API_NAME / VERSION ìœ¼ë¡œ êµ¬ì„±ë˜ì–´ìˆìŠµë‹ˆë‹¤.
ì•„ë˜ì˜ ì´ë¯¸ì§€ì˜ URLì„ í™•ì¸í•´ë³´ì‹œë©´ ì‰½ê²Œ ì´í•´í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p><p><img alt=swaggerhub-info loading=lazy src=../images/swaggerhub-info.png></p><h3 id=ìŠ¤ì›¨ê±°-apií‚¤-ë°œê¸‰ê³¼-ê¹ƒí—™ì‹œí¬ë¦¿í‚¤-ê°’ì—-ë„£ê¸°>ìŠ¤ì›¨ê±° APIí‚¤ ë°œê¸‰ê³¼ ê¹ƒí—™ì‹œí¬ë¦¿í‚¤ ê°’ì— ë„£ê¸°<a hidden class=anchor aria-hidden=true href=#ìŠ¤ì›¨ê±°-apií‚¤-ë°œê¸‰ê³¼-ê¹ƒí—™ì‹œí¬ë¦¿í‚¤-ê°’ì—-ë„£ê¸°>#</a></h3><ol><li><p>swaggerHubì˜ API ì‹œí¬ë¦¿í‚¤ ì°¾ê¸°</p><p><img alt=swaggerhub-secret-1 loading=lazy src=../images/swaggerhub-secret-1.png>
<img alt=swaggerhub-secret-2 loading=lazy src=../images/swaggerhub-secret-2.png></p></li><li><p>swaggerHub API ì‹œí¬ë¦¿ê°’ì„ Github ë˜í¬ì§€í† ë¦¬ ì‹œí¬ë¦¿ê°’ì— ë„£ê¸°</p><p><img alt=swaggerhub-secret-3 loading=lazy src=../images/swaggerhub-secret-3.png>
<img alt=swaggerhub-secret-4 loading=lazy src=../images/swaggerhub-secret-4.png></p></li></ol><h3 id=ë°˜ë³µë˜ëŠ”-ë¹Œë“œ-ì‹¤íŒ¨>ë°˜ë³µë˜ëŠ” ë¹Œë“œ ì‹¤íŒ¨&mldr;<a hidden class=anchor aria-hidden=true href=#ë°˜ë³µë˜ëŠ”-ë¹Œë“œ-ì‹¤íŒ¨>#</a></h3><p><img alt=fail-workflow-build loading=lazy src=../images/fail-workflow-build.png></p><p>ê²°êµ­ì€ ì›Œí¬í”Œë¡œìš°ë¥¼ í–ˆì§€ë§Œ ì‹¤íŒ¨ê°€ ë‚˜ì™”ìŠµë‹ˆë‹¤. ê·¸ì—ëŒ€í•œ ì´ìœ ëŠ” ì•„ë¬´ë˜ë„ ìŠ¤í”„ë§ë¶€íŠ¸ë¥¼ ì‹¤í–‰í•˜ë ¤ë©´ ë°ì´í„°ë² ì´ìŠ¤ì™€ì˜ ì—°ê²°ì´ í•„ìš”í•˜ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤. ì´ í”„ë¡œì„¸ìŠ¤ê°€ ë˜ë ¤ë©´ ì›ê²©ìœ¼ë¡œ ë°ì´í„°ë² ì´ìŠ¤ê°€ í•„ìš”í•©ë‹ˆë‹¤. í•˜ì§€ë§Œ ìŠ¤ì›¨ê±°ë§Œì„ ë°°í¬í•´ì•¼ë˜ë¯€ë¡œ êµ³ì´ í´ë¼ìš°ë“œì˜ DBë¥¼ ë¶™ì¼ í•„ìš”ê°€ ì—†ìœ¼ë¯€ë¡œ TestContainersë¥¼ í•˜ê¸°ë¡œ í–ˆìŠµë‹ˆë‹¤.</p><h2 id=testcontainer-ì„¤ì •í•˜ê¸°>TestContainer ì„¤ì •í•˜ê¸°<a hidden class=anchor aria-hidden=true href=#testcontainer-ì„¤ì •í•˜ê¸°>#</a></h2><p>ì´ í”„ë¡œì íŠ¸ì—ì„œëŠ” Mysqlì„ ì‚¬ìš©í•˜ê¸° ë•Œë¬¸ì— TestContainerë„ ë™ì¼í•œ ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ì‚¬ìš©í•´ì•¼í•©ë‹ˆë‹¤. build.gradleì— TestContainer ê´€ë ¨í•´ì„œ ì¶”ê°€í•´ì•¼í•©ë‹ˆë‹¤.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-4-1><a class=lnlinks href=#hl-4-1>1</a>
</span><span class=lnt id=hl-4-2><a class=lnlinks href=#hl-4-2>2</a>
</span><span class=lnt id=hl-4-3><a class=lnlinks href=#hl-4-3>3</a>
</span><span class=lnt id=hl-4-4><a class=lnlinks href=#hl-4-4>4</a>
</span><span class=lnt id=hl-4-5><a class=lnlinks href=#hl-4-5>5</a>
</span><span class=lnt id=hl-4-6><a class=lnlinks href=#hl-4-6>6</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-groovy data-lang=groovy><span class=line><span class=cl><span class=c1>// build.gradle
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=n>dependencies</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=n>testImplementation</span> <span class=s1>&#39;org.testcontainers:junit-jupiter&#39;</span>
</span></span><span class=line><span class=cl>    <span class=n>testImplementation</span> <span class=s1>&#39;org.testcontainers:mysql&#39;</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=ì›Œí¬í”Œë¡œìš°íŒŒì¼-ì‘ì„±-2ì°¨>ì›Œí¬í”Œë¡œìš°íŒŒì¼ ì‘ì„± (2ì°¨)<a hidden class=anchor aria-hidden=true href=#ì›Œí¬í”Œë¡œìš°íŒŒì¼-ì‘ì„±-2ì°¨>#</a></h3><blockquote><p>application-ci.yml</p></blockquote><p>ê¹ƒí—™ì•¡ì…˜ì—ì„œ í…ŒìŠ¤íŠ¸ì»¨í…Œì´ë„ˆë¥¼ ì‹¤í–‰í• ë•Œ ì‚¬ìš©í•˜ëŠ” ì„¤ì •ê°’ì…ë‹ˆë‹¤.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-5-1><a class=lnlinks href=#hl-5-1> 1</a>
</span><span class=lnt id=hl-5-2><a class=lnlinks href=#hl-5-2> 2</a>
</span><span class=lnt id=hl-5-3><a class=lnlinks href=#hl-5-3> 3</a>
</span><span class=lnt id=hl-5-4><a class=lnlinks href=#hl-5-4> 4</a>
</span><span class=lnt id=hl-5-5><a class=lnlinks href=#hl-5-5> 5</a>
</span><span class=lnt id=hl-5-6><a class=lnlinks href=#hl-5-6> 6</a>
</span><span class=lnt id=hl-5-7><a class=lnlinks href=#hl-5-7> 7</a>
</span><span class=lnt id=hl-5-8><a class=lnlinks href=#hl-5-8> 8</a>
</span><span class=lnt id=hl-5-9><a class=lnlinks href=#hl-5-9> 9</a>
</span><span class=lnt id=hl-5-10><a class=lnlinks href=#hl-5-10>10</a>
</span><span class=lnt id=hl-5-11><a class=lnlinks href=#hl-5-11>11</a>
</span><span class=lnt id=hl-5-12><a class=lnlinks href=#hl-5-12>12</a>
</span><span class=lnt id=hl-5-13><a class=lnlinks href=#hl-5-13>13</a>
</span><span class=lnt id=hl-5-14><a class=lnlinks href=#hl-5-14>14</a>
</span><span class=lnt id=hl-5-15><a class=lnlinks href=#hl-5-15>15</a>
</span><span class=lnt id=hl-5-16><a class=lnlinks href=#hl-5-16>16</a>
</span><span class=lnt id=hl-5-17><a class=lnlinks href=#hl-5-17>17</a>
</span><span class=lnt id=hl-5-18><a class=lnlinks href=#hl-5-18>18</a>
</span><span class=lnt id=hl-5-19><a class=lnlinks href=#hl-5-19>19</a>
</span><span class=lnt id=hl-5-20><a class=lnlinks href=#hl-5-20>20</a>
</span><span class=lnt id=hl-5-21><a class=lnlinks href=#hl-5-21>21</a>
</span><span class=lnt id=hl-5-22><a class=lnlinks href=#hl-5-22>22</a>
</span><span class=lnt id=hl-5-23><a class=lnlinks href=#hl-5-23>23</a>
</span><span class=lnt id=hl-5-24><a class=lnlinks href=#hl-5-24>24</a>
</span><span class=lnt id=hl-5-25><a class=lnlinks href=#hl-5-25>25</a>
</span><span class=lnt id=hl-5-26><a class=lnlinks href=#hl-5-26>26</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>management</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>endpoints</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>web</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>exposure</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>include</span><span class=p>:</span><span class=w> </span><span class=l>health,info</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>endpoint</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>health</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>show-details</span><span class=p>:</span><span class=w> </span><span class=l>always</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>server</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>port</span><span class=p>:</span><span class=w> </span><span class=m>8080</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>spring</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>dataSource</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>url</span><span class=p>:</span><span class=w> </span><span class=l>jdbc:tc:mysql:8.0:///testdb</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>driver-class-name</span><span class=p>:</span><span class=w> </span><span class=l>org.testcontainers.jdbc.ContainerDatabaseDriver</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>username</span><span class=p>:</span><span class=w> </span><span class=l>test</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>password</span><span class=p>:</span><span class=w> </span><span class=l>test</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>jpa</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>hibernate</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>ddl-auto</span><span class=p>:</span><span class=w> </span><span class=l>update</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>show-sql</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>database-platform</span><span class=p>:</span><span class=w> </span><span class=l>org.hibername.dialect.MySQL8Dialect</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>logging</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>level</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>root</span><span class=p>:</span><span class=w> </span><span class=l>DEBUG</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><blockquote><p>deploy-openapi-swaggerhub.yaml</p></blockquote><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-6-1><a class=lnlinks href=#hl-6-1> 1</a>
</span><span class=lnt id=hl-6-2><a class=lnlinks href=#hl-6-2> 2</a>
</span><span class=lnt id=hl-6-3><a class=lnlinks href=#hl-6-3> 3</a>
</span><span class=lnt id=hl-6-4><a class=lnlinks href=#hl-6-4> 4</a>
</span><span class=lnt id=hl-6-5><a class=lnlinks href=#hl-6-5> 5</a>
</span><span class=lnt id=hl-6-6><a class=lnlinks href=#hl-6-6> 6</a>
</span><span class=lnt id=hl-6-7><a class=lnlinks href=#hl-6-7> 7</a>
</span><span class=lnt id=hl-6-8><a class=lnlinks href=#hl-6-8> 8</a>
</span><span class=lnt id=hl-6-9><a class=lnlinks href=#hl-6-9> 9</a>
</span><span class=lnt id=hl-6-10><a class=lnlinks href=#hl-6-10>10</a>
</span><span class=lnt id=hl-6-11><a class=lnlinks href=#hl-6-11>11</a>
</span><span class=lnt id=hl-6-12><a class=lnlinks href=#hl-6-12>12</a>
</span><span class=lnt id=hl-6-13><a class=lnlinks href=#hl-6-13>13</a>
</span><span class=lnt id=hl-6-14><a class=lnlinks href=#hl-6-14>14</a>
</span><span class=lnt id=hl-6-15><a class=lnlinks href=#hl-6-15>15</a>
</span><span class=lnt id=hl-6-16><a class=lnlinks href=#hl-6-16>16</a>
</span><span class=lnt id=hl-6-17><a class=lnlinks href=#hl-6-17>17</a>
</span><span class=lnt id=hl-6-18><a class=lnlinks href=#hl-6-18>18</a>
</span><span class=lnt id=hl-6-19><a class=lnlinks href=#hl-6-19>19</a>
</span><span class=lnt id=hl-6-20><a class=lnlinks href=#hl-6-20>20</a>
</span><span class=lnt id=hl-6-21><a class=lnlinks href=#hl-6-21>21</a>
</span><span class=lnt id=hl-6-22><a class=lnlinks href=#hl-6-22>22</a>
</span><span class=lnt id=hl-6-23><a class=lnlinks href=#hl-6-23>23</a>
</span><span class=lnt id=hl-6-24><a class=lnlinks href=#hl-6-24>24</a>
</span><span class=lnt id=hl-6-25><a class=lnlinks href=#hl-6-25>25</a>
</span><span class=lnt id=hl-6-26><a class=lnlinks href=#hl-6-26>26</a>
</span><span class=lnt id=hl-6-27><a class=lnlinks href=#hl-6-27>27</a>
</span><span class=lnt id=hl-6-28><a class=lnlinks href=#hl-6-28>28</a>
</span><span class=lnt id=hl-6-29><a class=lnlinks href=#hl-6-29>29</a>
</span><span class=lnt id=hl-6-30><a class=lnlinks href=#hl-6-30>30</a>
</span><span class=lnt id=hl-6-31><a class=lnlinks href=#hl-6-31>31</a>
</span><span class=lnt id=hl-6-32><a class=lnlinks href=#hl-6-32>32</a>
</span><span class=lnt id=hl-6-33><a class=lnlinks href=#hl-6-33>33</a>
</span><span class=lnt id=hl-6-34><a class=lnlinks href=#hl-6-34>34</a>
</span><span class=lnt id=hl-6-35><a class=lnlinks href=#hl-6-35>35</a>
</span><span class=lnt id=hl-6-36><a class=lnlinks href=#hl-6-36>36</a>
</span><span class=lnt id=hl-6-37><a class=lnlinks href=#hl-6-37>37</a>
</span><span class=lnt id=hl-6-38><a class=lnlinks href=#hl-6-38>38</a>
</span><span class=lnt id=hl-6-39><a class=lnlinks href=#hl-6-39>39</a>
</span><span class=lnt id=hl-6-40><a class=lnlinks href=#hl-6-40>40</a>
</span><span class=lnt id=hl-6-41><a class=lnlinks href=#hl-6-41>41</a>
</span><span class=lnt id=hl-6-42><a class=lnlinks href=#hl-6-42>42</a>
</span><span class=lnt id=hl-6-43><a class=lnlinks href=#hl-6-43>43</a>
</span><span class=lnt id=hl-6-44><a class=lnlinks href=#hl-6-44>44</a>
</span><span class=lnt id=hl-6-45><a class=lnlinks href=#hl-6-45>45</a>
</span><span class=lnt id=hl-6-46><a class=lnlinks href=#hl-6-46>46</a>
</span><span class=lnt id=hl-6-47><a class=lnlinks href=#hl-6-47>47</a>
</span><span class=lnt id=hl-6-48><a class=lnlinks href=#hl-6-48>48</a>
</span><span class=lnt id=hl-6-49><a class=lnlinks href=#hl-6-49>49</a>
</span><span class=lnt id=hl-6-50><a class=lnlinks href=#hl-6-50>50</a>
</span><span class=lnt id=hl-6-51><a class=lnlinks href=#hl-6-51>51</a>
</span><span class=lnt id=hl-6-52><a class=lnlinks href=#hl-6-52>52</a>
</span><span class=lnt id=hl-6-53><a class=lnlinks href=#hl-6-53>53</a>
</span><span class=lnt id=hl-6-54><a class=lnlinks href=#hl-6-54>54</a>
</span><span class=lnt id=hl-6-55><a class=lnlinks href=#hl-6-55>55</a>
</span><span class=lnt id=hl-6-56><a class=lnlinks href=#hl-6-56>56</a>
</span><span class=lnt id=hl-6-57><a class=lnlinks href=#hl-6-57>57</a>
</span><span class=lnt id=hl-6-58><a class=lnlinks href=#hl-6-58>58</a>
</span><span class=lnt id=hl-6-59><a class=lnlinks href=#hl-6-59>59</a>
</span><span class=lnt id=hl-6-60><a class=lnlinks href=#hl-6-60>60</a>
</span><span class=lnt id=hl-6-61><a class=lnlinks href=#hl-6-61>61</a>
</span><span class=lnt id=hl-6-62><a class=lnlinks href=#hl-6-62>62</a>
</span><span class=lnt id=hl-6-63><a class=lnlinks href=#hl-6-63>63</a>
</span><span class=lnt id=hl-6-64><a class=lnlinks href=#hl-6-64>64</a>
</span><span class=lnt id=hl-6-65><a class=lnlinks href=#hl-6-65>65</a>
</span><span class=lnt id=hl-6-66><a class=lnlinks href=#hl-6-66>66</a>
</span><span class=lnt id=hl-6-67><a class=lnlinks href=#hl-6-67>67</a>
</span><span class=lnt id=hl-6-68><a class=lnlinks href=#hl-6-68>68</a>
</span><span class=lnt id=hl-6-69><a class=lnlinks href=#hl-6-69>69</a>
</span><span class=lnt id=hl-6-70><a class=lnlinks href=#hl-6-70>70</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Deploy OpenAPI Spec to SwaggerHub</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>on</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>push</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>branches</span><span class=p>:</span><span class=w> </span><span class=p>[</span><span class=s2>&#34;main&#34;</span><span class=p>,</span><span class=w> </span><span class=s2>&#34;step05&#34;</span><span class=p>,</span><span class=w> </span><span class=s2>&#34;step06&#34;</span><span class=p>]</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>jobs</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>deploy-openapi</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>runs-on</span><span class=p>:</span><span class=w> </span><span class=l>ubuntu-latest</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>env</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>OWNER</span><span class=p>:</span><span class=w> </span><span class=l>sampleswagger-f17</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>API_NAME</span><span class=p>:</span><span class=w> </span><span class=l>hh-08-concert</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>VERSION</span><span class=p>:</span><span class=w> </span><span class=m>1.0.0</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>JAVA_TOOL_OPTIONS</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;-Dorg.slf4j.simpleLogger.defaultLogLevel=debug&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>steps</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Checkout</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>uses</span><span class=p>:</span><span class=w> </span><span class=l>actions/checkout@v3</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=c># Java ì„¤ì¹˜</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Set up java</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>uses</span><span class=p>:</span><span class=w> </span><span class=l>actions/setup-java@v3</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>with</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>java-version</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;17&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>distribution</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;temurin&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Give execute permission to gradlew</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>run</span><span class=p>:</span><span class=w> </span><span class=l>chmod +x ./gradlew</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=c># application ë¹Œë“œ</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Build the application</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>run</span><span class=p>:</span><span class=w> </span><span class=l>./gradlew bootJar</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=c># application ë°±ê·¸ë¼ìš´ë“œì—ì„œ ì‹¤í–‰</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Run the application in background</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>run</span><span class=p>:</span><span class=w> </span><span class=p>|</span><span class=sd>
</span></span></span><span class=line><span class=cl><span class=sd>          java -jar build/libs/concert-0.0.1-SNAPSHOT.jar --spring.profiles.active=ci &amp;
</span></span></span><span class=line><span class=cl><span class=sd>          echo $! &gt; pid.txt</span><span class=w>          
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=c># TestContainer ë¡œê·¸ í™•ì¸ ì¶”ê°€</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Debug logs if server fails</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>if</span><span class=p>:</span><span class=w> </span><span class=l>failure()</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>run</span><span class=p>:</span><span class=w> </span><span class=p>|</span><span class=sd>
</span></span></span><span class=line><span class=cl><span class=sd>          echo &#34;ğŸ§© Showing last 100 lines from app logs (if any)&#34;
</span></span></span><span class=line><span class=cl><span class=sd>          tail -n 100 build/libs/*.log || echo &#34;No log file&#34;
</span></span></span><span class=line><span class=cl><span class=sd>          echo &#34;ğŸ³ Running Docker containers&#34;
</span></span></span><span class=line><span class=cl><span class=sd>          docker ps -a || echo &#34;Docker info not available&#34;</span><span class=w>          
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=c># ì„œë²„ê°€ í†µì‹ ë˜ëŠ”ì§€ í™•ì¸</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Wait for server to be ready</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>run</span><span class=p>:</span><span class=w> </span><span class=p>|</span><span class=sd>
</span></span></span><span class=line><span class=cl><span class=sd>          for i in {1..30}; do
</span></span></span><span class=line><span class=cl><span class=sd>            curl --silent http://localhost:8080/actuator/health &amp;&amp; exit 0
</span></span></span><span class=line><span class=cl><span class=sd>            echo &#34;â³ Waiting for server ...&#34;
</span></span></span><span class=line><span class=cl><span class=sd>            sleep 2
</span></span></span><span class=line><span class=cl><span class=sd>          done
</span></span></span><span class=line><span class=cl><span class=sd>          echo &#34;âŒ Server did not start in time&#34;
</span></span></span><span class=line><span class=cl><span class=sd>          echo &#34;ğŸ“œ ==== APP LOG START ====&#34;
</span></span></span><span class=line><span class=cl><span class=sd>          cat app.log || echo &#34;No log file found&#34;
</span></span></span><span class=line><span class=cl><span class=sd>          echo &#34;ğŸ“œ ==== APP LOG END ====&#34;
</span></span></span><span class=line><span class=cl><span class=sd>          cat pid.txt | xargs kill
</span></span></span><span class=line><span class=cl><span class=sd>          exit 1</span><span class=w>          
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=c># ë¡œì»¬í˜¸ìŠ¤íŠ¸ë‚´ OpenAPI ìŠ¤í™ë‹¤ìš´ë¡œë“œ</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Download OpenAPI spec</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>run</span><span class=p>:</span><span class=w> </span><span class=l>curl http://localhost:8080/v3/api-docs -o openapi.json</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Install SwaggerHub CLI</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>run</span><span class=p>:</span><span class=w> </span><span class=l>npm install -g swaggerhub-cli</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Push to swaggerHub</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>run</span><span class=p>:</span><span class=w> </span><span class=p>|</span><span class=sd>
</span></span></span><span class=line><span class=cl><span class=sd>          swaggerhub api:push $OWNER/$API_NAME/$VERSION \
</span></span></span><span class=line><span class=cl><span class=sd>            --file openapi.json \
</span></span></span><span class=line><span class=cl><span class=sd>            --token ${{ secrets.SWAGGERHUB_API_KEY }} \
</span></span></span><span class=line><span class=cl><span class=sd>            --visibility public</span><span class=w>          
</span></span></span></code></pre></td></tr></table></div></div><p>í•˜ì§€ë§Œ ì•„ì‰½ê²Œë„ <code>Wait for server to be ready</code> ë‹¨ê³„ì—ì„œ ê³„ì† ë˜‘ê°™ì€ ì‹¤íŒ¨ì—ì„œ ë°œìƒì„í•©ë‹ˆë‹¤. ì—°ê²°ì´ ë˜ì§€ ì•Šì•˜ê¸° ë•Œë¬¸ì¸ë°ìš”. ( ì´ ë¬¸ì œì— ëŒ€í•œ ìì„¸í•œ ì†”ë£¨ì…˜ì„ ì°¾ì€ê²½ìš°ì—ëŠ” <a href=mailto:dmsrkd1216@gmail.com>dmsrkd1216@gmail.com</a> ìœ¼ë¡œ ì´ë©”ì¼ ë³´ë‚´ì£¼ì‹œë©´ ê°ì‚¬í•˜ê² ìŠµë‹ˆë‹¤! )</p><p>ì§€ê¸ˆ ê³¼ì œë¥¼ í•´ì•¼ë˜ëŠ”ë° ê³¼ì œì™€ ìƒê´€ì—†ëŠ” ì‚½ì§ˆì„ í•´ë²„ë¦¬ê³ ë§ì•˜ë„¤ìš” ã… ã…  ì‹œê°„ì´ ë§ì´ ì†Œìš”ëœ ê´€ê³„ë¡œ ì‹¤íŒ¨ë¡œ ëë‚¬ìŠµë‹ˆë‹¤. ì•½ 3ì‹œê°„ 39ë¶„ì •ë„ ì‹œë„ë¥¼ í•´ë´¤ìŠµë‹ˆë‹¤. ê²°ê³¼ë¥¼ ëª»ì´ë¤„ë‚¸ê±´ ì•„ì‰½ì§€ë§Œ ê·¸ë˜ë„ í›„íšŒëŠ” ì—†ìŠµë‹ˆë‹¤.</p><p>ì¼ë‹¨ì€ ë¶ˆí¸í•˜ë”ë¼ë„ ì§ì ‘ ì œê°€ ë³µë¶™í•´ì„œ ì‚¬ìš©í•˜ëŠ” ë°©ì•ˆìœ¼ë¡œ ì§„í–‰í•´ì•¼ë ê±°ê°™ìŠµë‹ˆë‹¤.
ì•„ë¬´ë˜ë„ í…ŒìŠ¤íŠ¸ì»¨í…Œì´ë„ˆê°€ ì˜ ì§€ì›í•œë‹¤í•´ë„ ì›Œí¬í”Œë¡œìš°ì—ì„œì˜ ì„œë²„ì™€ì˜ í†µì‹ ì´ ì–´ë ¤ìš¸ê±°ê°™ìŠµë‹ˆë‹¤.</p><p>ë§Œì¼ ì„±ê³µì´ ëë‹¤í•˜ë”ë¼ë„, ì¶”í›„ì— ë ˆë””ìŠ¤ë‚˜, kafka ì´ ì¶”ê°€ëœë‹¤ë©´ ì´ ì›Œí¬í”Œë¡œìš°ì—ë„ ì—°ê²°ì„ í•´ì„œ ë°˜ì˜ì„ í•´ì•¼ë ê²ë‹ˆë‹¤. TestContainersì²˜ëŸ¼ ì›Œí¬í”Œë¡œìš° ì‹¤í–‰ì¤‘ì—ì„œë§Œ ì‚¬ìš©ë˜ëŠ” ì†Œí”„íŠ¸ì›¨ì–´ê°€ ìˆëŠ”ì§€ ì§ì ‘ ì°¾ì•„ë´ì•¼ë ê±° ê°™ìŠµë‹ˆë‹¤.</p><ul><li>ì°¸ê³ : <a href=https://jihyun-devstory.tistory.com/41>í˜‘ì—…ì„ ìœ„í•œ Swagger ë°°í¬í•˜ê¸°(1)</a></li></ul></div><footer class=post-footer><ul class=post-tags></ul><nav class=paginav><a class=prev href=https://loveAlakazam.github.io/blog/docs/hh-08-week02-remind/><span class=title>Â« Prev</span><br><span>í•­í•´99 2ì£¼ì°¨ íšŒê³  (WIL)</span>
</a><a class=next href=https://loveAlakazam.github.io/blog/docs/hh-08-week01-remind/><span class=title>Next Â»</span><br><span>í•­í•´99 1ì£¼ì°¨ íšŒê³  (WIL)</span></a></nav></footer></article></main><footer class=footer><span>&copy; 2025 <a href=https://loveAlakazam.github.io/blog/>EK Dev Blog</a></span> Â·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>
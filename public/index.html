<!doctype html><html lang=en dir=auto><head><meta name=generator content="Hugo 0.145.0"><script src="/blog/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=blog/livereload" data-no-instant defer></script><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="noindex, nofollow"><title>EK Dev Blog</title>
<meta name=keywords content="Blog,Portfolio,PaperMod"><meta name=description content><meta name=author content><link rel=canonical href=http://localhost:1313/blog/><link crossorigin=anonymous href=/blog/assets/css/stylesheet.f49d66caae9ea0fd43f21f29e71a8d3e284517ed770f2aa86fa012953ad3c9ef.css integrity="sha256-9J1myq6eoP1D8h8p5xqNPihFF+13Dyqob6ASlTrTye8=" rel="preload stylesheet" as=style><link rel=icon href=http://localhost:1313/blog/%3Clink%20/%20abs%20url%3E><link rel=icon type=image/png sizes=16x16 href=http://localhost:1313/blog/%3Clink%20/%20abs%20url%3E><link rel=icon type=image/png sizes=32x32 href=http://localhost:1313/blog/%3Clink%20/%20abs%20url%3E><link rel=apple-touch-icon href=http://localhost:1313/blog/%3Clink%20/%20abs%20url%3E><link rel=mask-icon href=http://localhost:1313/blog/%3Clink%20/%20abs%20url%3E><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate type=application/rss+xml href=http://localhost:1313/blog/index.xml><link rel=alternate hreflang=en href=http://localhost:1313/blog/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript></head><body class=list id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=http://localhost:1313/blog/ accesskey=h title="EK Dev Blog (Alt + H)"><img src=http://localhost:1313/apple-touch-icon.png alt aria-label=logo height=35>EK Dev Blog</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme"><svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://eunkangchoi.github.io/resume/ title=Resume><span>Resume</span>&nbsp;<svg fill="none" shape-rendering="geometricPrecision" stroke="currentcolor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" viewBox="0 0 24 24" height="12" width="12"><path d="M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6"/><path d="M15 3h6v6"/><path d="M10 14 21 3"/></svg></a></li></ul></nav></header><main class=main><article class="first-entry home-info"><header class=entry-header><h1>Choi Eun Kang 👋</h1></header><div class=entry-content>Junior Backend Developer</div><footer class=entry-footer><div class=social-icons><a href=https://github.com/loveAlakazam target=_blank rel="noopener noreferrer me" title=Github><svg viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37.0 00-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44.0 0020 4.77 5.07 5.07.0 0019.91 1S18.73.65 16 2.48a13.38 13.38.0 00-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07.0 005 4.77 5.44 5.44.0 003.5 8.55c0 5.42 3.3 6.61 6.44 7A3.37 3.37.0 009 18.13V22"/></svg></a></div></footer></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>항해99 6주차 회고(WIL)</h2></header><div class=entry-content><p>Q. 인상깊었던 주제는 무엇이었나요? 분산락과 캐시 전략중 어떤 주제가 더 인상깊었나요?
항해를 하기전 레디스를 사용해왔을때는 JWT 토큰정도로만 해왔습니다. Key value 기반 NoSQL 데이터베이스인 레디스가 단순히 캐싱의 역할을 하지 않고 Lock으로서의 역할을 할 수 있다는걸 이번과제를 통해 새로알게됐습니다. 또한 읽기와 쓰기에서의 캐싱전략이 여러가지가 있다는걸 처음알게됐습니다.
해당 개념을 통해 어떤 구조적/성능적 문제 해결을 가능성을 느꼈나요?
아직까지는 과제를 수행해보면서 어느점이 문제인지, 그에 대한 해결은 무엇인지에 대한 답변이 명확하지 않았습니다. 그래도 떠오르는 한가지는 캐싱쪽에서는 트랜잭션을 접근하기전에 캐시저장소(redis)에서 캐시히트가되면 빠른 응답을 해줄 수 있다는 점입니다.
...</p></div><footer class=entry-footer><span title='2025-05-10 00:00:00 +0000 UTC'>May 10, 2025</span></footer><a class=entry-link aria-label="post link to 항해99 6주차 회고(WIL)" href=http://localhost:1313/blog/docs/hh-08-week06-remind/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>RDBMS 락을 사용한 동시성문제 해결</h2></header><div class=entry-content><p>동시성 문제 (RaceCondition) 여러개의 스레드가 같은 공유자원에 대해서 동시에 읽기/쓰기 접근 요청할 때 공유자원의 데이터의 정합성이 깨지는 현상.
데드락 (DeadLock) 1 2 3 4 화장품가게 에는 립밤 1개, 스킨로션 1개 를 판매하고 있다. - 손님 A가 립밤 1개를 집었다. - 손님 B가 스킨로션 1개를 집었다. 손님 A 는 (B가 집은) 스킨로션을 원하고, 손님 B 는 (A가 집은) 립밤을 원한다.
손님 A의 입장에서는 손님B가 스킨로션을 내려놓을 때까지 기다려야하고 손님 B의 입장에서는 손님A가 립밤을 내려놓을 때까지 기다려야한다.
...</p></div><footer class=entry-footer><span title='2025-04-22 00:00:00 +0000 UTC'>April 22, 2025</span></footer><a class=entry-link aria-label="post link to RDBMS 락을 사용한 동시성문제 해결" href=http://localhost:1313/blog/docs/rdbms-locks/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>RDBMS(Mysql)에서의 인덱스 개념 정리</h2></header><div class=entry-content><p>만능은 없다. TradeOff는 있다. 읽기 성능이 좋으면 쓰기성능이 구리고, 쓰기성능이 좋으면 읽기성능에 구려진다.
정규화 쓰기성능을 높임으로써 데이터 중복을 줄이고 일관성을 높인다.
반정규화 읽기성능을 높임으로써 일부 중복을 허용한다.
트랜잭션 격리 수준 Uncommitted Read - 커밋되지 않은 읽기 다른 트랜잭션에서 커밋되지 않은 데이터에도 접근하게 할 수 있는 격리수준 DirtyRead: 커밋되지 않은 트랜잭션에 접근해서 아직 정상반영되지 않은 데이터를 읽는 현상 (해당 데이터는 롤백되어 없어질 수도 있다) Committed Read - 커밋된 읽기 다른 트랜잭션에서 커밋된 데이터에만 접근할 수 있게 하는 격리수준 Non-Repeatable Read: 하나의 트랜잭션에서 동일한 SELECT 쿼리문을 실행했을 때 커밋전의 데이터와 커밋후의 데이터가 읽히면서 다른결과가 생기는 현상 Repeatable Read - 반복가능한 읽기 커밋된 데이터만 읽을 수 있으며, 자신보다 빨리 수행된 트랜잭션에서 커밋한 데이터만 읽을 수 있는 격리 수준
...</p></div><footer class=entry-footer><span title='2025-04-14 00:00:00 +0000 UTC'>April 14, 2025</span></footer><a class=entry-link aria-label="post link to RDBMS(Mysql)에서의 인덱스 개념 정리" href=http://localhost:1313/blog/docs/rdbms-index/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>정적 팩토리 메소드</h2></header><div class=entry-content><p>서론 단위테스트의 목데이터를 만들때 생성자를 호출하게되어 연관관계를 갖는 도메인을 setter로 설정시켜서 목데이터를 생성하는데 점점 무거워지는 불편함을 겪었습니다.
1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 @Test void 신규_임시예약상태의_예약도메인_생성에_성공된다() { // given long userId = 1L; long concertSeatId = 1L; User user = new User(userId, "은강"); Concert concert = new Concert(1L, "항해와 함께하는 TDD 단위테스트 콘서트", "항해플러스"); // 👈 도메인 엔티티 생성자를 직접호출! ConcertDate concertDate = new ConcertDate(1L, LocalDate.now(), true, "뚝섬 한강공원"); // 👈 연관관계 도메인엔티티 생성자를 직접호출! ConcertSeat concertSeat = new ConcertSeat(concertSeatId, 5, 15000, true); // 👈 연관관계 도메인엔티티 생성자를 직접호출! concertSeat.setConcert(concert); // 👈 문제의 setter! concertSeat.setConcertDate(concertDate); // 👈 문제의 setter! // when & then Reservation result = assertDoesNotThrow(() -> reservationService.initTemporaryReservedStatus(user, concertSeat)); assertEquals(null, result.getReservedAt()); assertEquals(PENDING_PAYMENT, result.getStatus()); assertEquals(user, result.getUser()); assertEquals(concert, result.getConcert()); assertEquals(concertDate, result.getConcertDate()); assertEquals(concertSeat, result.getConcertSeat()); } 목데이터를 나타낼때마다 뚱뚱해지는 코드길이와, 목데이터를 셋팅하는데 계속 new 연산자로 생성자를 호출해야되는걸까? 라는 의구심이 들었습니다. 엔티티와 연결된 도메인이 1개면 생성자호출,setter 로 코드라인 2줄을 차지하는데, 만일 연결된 도메인이 10개라면 코드라인수가 20개를 차지해서 테스트코드를 작성하는데 큰 불편함을 겪었습니다. 만일 위의 문제의 코드처럼 진행된다면 연결 도메인개수가 늘어날수록 작성해야되는 테스트코드도 방대해진다는 결론을 내렸습니다.
...</p></div><footer class=entry-footer><span title='2025-04-13 00:00:00 +0000 UTC'>April 13, 2025</span></footer><a class=entry-link aria-label="post link to 정적 팩토리 메소드" href=http://localhost:1313/blog/docs/factory-methods/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>아키텍쳐 고민하기</h2></header><div class=entry-content><p>ERD 개선하기 보완피드백1: 유저와 토큰 테이블 분리하기
보완피드백2: 테이블의 역할을 고민해서 만들기
payments 라는 엔티티에 금액정보가 없어서 책임을 다하지 못할 수 있음.
As-Is (1차 설계) To-Be (2차 설계) 테이블개수를 6개 -> 8개 로 확장했습니다. 토큰(tokens) 테이블 추가 포인트 내역(point_histories) 테이블 추가 payments 테이블에 결제금액(price) 를 추가하여 결제에 대한 책임을 부여했습니다. 2차 설계안 고민포인트 1번을 참고하여, 날짜에서 예약가능여부(is_available)을 추가했습니다. ERD 2차 설계안 고민포인트 대기열토큰의 대기순서를 나타내려면, 토큰테이블에 대기순서를 기재하는게 좋을까요 아니면 대기열큐를 하나의 테이블로 나타내어 대기순서를 기재하는게 좋을까요? 멀티스레드의 동시성을 고려하게될텐데 여기서는 대기열이 동시성을 담당하는거 같습니다. 계속 대기열도 테이블로 나타내려고하는데 아직도 혼란이 남은거같아 질문을 드립니다.
...</p></div><footer class=entry-footer><span title='2025-04-05 00:00:00 +0000 UTC'>April 5, 2025</span></footer><a class=entry-link aria-label="post link to 아키텍쳐 고민하기" href=http://localhost:1313/blog/docs/upgrade-architect/></a></article><footer class=page-footer><nav class=pagination><a class=next href=http://localhost:1313/blog/page/2/>Next&nbsp;&nbsp;»</a></nav></footer></main><footer class=footer><span>&copy; 2025 <a href=http://localhost:1313/blog/>EK Dev Blog</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>